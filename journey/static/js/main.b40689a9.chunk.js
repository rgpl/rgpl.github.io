(this["webpackJsonpworkflow-management"]=this["webpackJsonpworkflow-management"]||[]).push([[357],{143:function(e,t,a){e.exports=a.p+"static/media/databaseorange.ec0d974b.svg"},144:function(e,t,a){e.exports=a.p+"static/media/logred.d681594a.svg"},146:function(e,t,a){e.exports=a.p+"static/media/action.96102495.svg"},147:function(e,t,a){e.exports=a.p+"static/media/error.987d37d2.svg"},148:function(e,t,a){e.exports=a.p+"static/media/database.72dd3ab6.svg"},149:function(e,t,a){e.exports=a.p+"static/media/log.0835ccf3.svg"},229:function(e,t,a){e.exports=a.p+"static/media/eyeblue.bf79c107.svg"},230:function(e,t,a){e.exports=a.p+"static/media/more.ea10c850.svg"},231:function(e,t,a){e.exports=a.p+"static/media/actionblue.efaec303.svg"},232:function(e,t,a){e.exports=a.p+"static/media/timeblue.13d7ad9f.svg"},233:function(e,t,a){e.exports=a.p+"static/media/errorblue.4c64f451.svg"},234:function(e,t,a){e.exports=a.p+"static/media/twitterorange.e5d041df.svg"},235:function(e,t,a){e.exports=a.p+"static/media/actionorange.084a30c7.svg"},236:function(e,t,a){e.exports=a.p+"static/media/errorred.fd788c04.svg"},240:function(e,t,a){e.exports=a.p+"static/media/eye.02ac23d5.svg"},241:function(e,t,a){e.exports=a.p+"static/media/time.4919b690.svg"},242:function(e,t,a){e.exports=a.p+"static/media/twitter.445e7a17.svg"},270:function(e,t,a){e.exports=a(661)},275:function(e,t,a){},276:function(e,t,a){},281:function(e,t,a){},302:function(e,t,a){var n={"./accessibility.js":[669,0],"./aggregate.js":[670,1],"./alert.js":[671,2],"./annotation.js":[672,3],"./apm_trace.js":[673,4],"./app_add_data.js":[674,5],"./app_advanced_settings.js":[675,6],"./app_apm.js":[676,7],"./app_auditbeat.js":[677,8],"./app_canvas.js":[678,9],"./app_code.js":[679,10],"./app_console.js":[680,11],"./app_cross_cluster_replication.js":[681,12],"./app_dashboard.js":[682,13],"./app_devtools.js":[683,14],"./app_discover.js":[684,15],"./app_ems.js":[685,16],"./app_filebeat.js":[686,17],"./app_gis.js":[687,18],"./app_graph.js":[688,19],"./app_grok.js":[689,20],"./app_heartbeat.js":[690,21],"./app_index_management.js":[691,22],"./app_index_pattern.js":[692,23],"./app_index_rollup.js":[693,24],"./app_lens.js":[694,25],"./app_logs.js":[695,26],"./app_management.js":[696,27],"./app_metricbeat.js":[697,28],"./app_metrics.js":[698,29],"./app_ml.js":[699,30],"./app_monitoring.js":[700,31],"./app_notebook.js":[701,32],"./app_packetbeat.js":[702,33],"./app_pipeline.js":[703,34],"./app_recently_viewed.js":[704,35],"./app_reporting.js":[705,36],"./app_saved_objects.js":[706,37],"./app_search_profiler.js":[707,38],"./app_security.js":[708,39],"./app_security_analytics.js":[709,40],"./app_spaces.js":[710,41],"./app_sql.js":[711,42],"./app_timelion.js":[712,43],"./app_upgrade_assistant.js":[713,44],"./app_uptime.js":[714,45],"./app_users_roles.js":[715,46],"./app_visualize.js":[716,47],"./app_watches.js":[717,48],"./apps.js":[718,49],"./arrow_down.js":[719,50],"./arrow_left.js":[720,51],"./arrow_right.js":[721,52],"./arrow_up.js":[722,53],"./asterisk.js":[723,54],"./beaker.js":[724,55],"./bell.js":[725,56],"./bellSlash.js":[726,57],"./bolt.js":[727,58],"./boxes_horizontal.js":[728,59],"./boxes_vertical.js":[729,60],"./branch.js":[730,61],"./broom.js":[731,62],"./brush.js":[732,63],"./bug.js":[733,64],"./bullseye.js":[734,65],"./calendar.js":[735,66],"./check.js":[736,67],"./checkInCircleFilled.js":[737,68],"./clock.js":[738,69],"./cloudDrizzle.js":[739,70],"./cloudStormy.js":[740,71],"./cloudSunny.js":[741,72],"./compute.js":[742,73],"./console.js":[743,74],"./controls_horizontal.js":[744,75],"./controls_vertical.js":[745,76],"./copy.js":[746,77],"./copy_clipboard.js":[747,78],"./cross.js":[748,79],"./crossInACircleFilled.js":[749,80],"./crosshairs.js":[750,81],"./currency.js":[751,82],"./cut.js":[752,83],"./database.js":[753,84],"./document.js":[754,85],"./documentEdit.js":[755,86],"./documents.js":[756,87],"./dot.js":[757,88],"./editorDistributeHorizontal.js":[758,89],"./editorDistributeVertical.js":[759,90],"./editorItemAlignBottom.js":[760,91],"./editorItemAlignCenter.js":[761,92],"./editorItemAlignLeft.js":[762,93],"./editorItemAlignMiddle.js":[763,94],"./editorItemAlignRight.js":[764,95],"./editorItemAlignTop.js":[765,96],"./editorPositionBottomLeft.js":[766,97],"./editorPositionBottomRight.js":[767,98],"./editorPositionTopLeft.js":[768,99],"./editorPositionTopRight.js":[769,100],"./editor_align_center.js":[770,101],"./editor_align_left.js":[771,102],"./editor_align_right.js":[772,103],"./editor_bold.js":[773,104],"./editor_code_block.js":[774,105],"./editor_comment.js":[775,106],"./editor_heading.js":[776,107],"./editor_italic.js":[777,108],"./editor_link.js":[778,109],"./editor_ordered_list.js":[779,110],"./editor_redo.js":[780,111],"./editor_strike.js":[781,112],"./editor_table.js":[782,113],"./editor_underline.js":[783,114],"./editor_undo.js":[784,115],"./editor_unordered_list.js":[785,116],"./email.js":[786,117],"./empty.js":[90],"./exit.js":[787,118],"./expand.js":[788,119],"./expandMini.js":[789,120],"./export.js":[790,121],"./eye.js":[791,122],"./eye_closed.js":[792,123],"./faceNeutral.js":[793,124],"./face_happy.js":[794,125],"./face_neutral.js":[795,126],"./face_sad.js":[796,127],"./filter.js":[797,128],"./flag.js":[798,129],"./folder_closed.js":[799,130],"./folder_open.js":[800,131],"./full_screen.js":[801,132],"./gear.js":[802,133],"./glasses.js":[803,134],"./globe.js":[804,135],"./grab.js":[805,136],"./grab_horizontal.js":[806,137],"./grid.js":[807,138],"./heart.js":[808,139],"./heatmap.js":[809,140],"./help.js":[810,141],"./iInCircle.js":[811,142],"./import.js":[812,143],"./index_close.js":[813,144],"./index_edit.js":[814,145],"./index_flush.js":[815,146],"./index_mapping.js":[816,147],"./index_open.js":[817,148],"./index_settings.js":[818,149],"./inputOutput.js":[819,150],"./inspect.js":[820,151],"./invert.js":[821,152],"./ip.js":[822,153],"./keyboard_shortcut.js":[823,154],"./kql_field.js":[824,155],"./kql_function.js":[825,156],"./kql_operand.js":[826,157],"./kql_selector.js":[827,158],"./kql_value.js":[828,159],"./link.js":[829,160],"./list.js":[830,161],"./list_add.js":[831,162],"./lock.js":[832,163],"./lockOpen.js":[833,164],"./logo_aerospike.js":[834,165],"./logo_apache.js":[835,166],"./logo_apm.js":[836,167],"./logo_app_search.js":[837,168],"./logo_aws.js":[838,169],"./logo_aws_mono.js":[839,170],"./logo_azure.js":[840,171],"./logo_azure_mono.js":[841,172],"./logo_beats.js":[842,173],"./logo_business_analytics.js":[843,174],"./logo_ceph.js":[844,360],"./logo_cloud.js":[845,175],"./logo_cloud_ece.js":[846,176],"./logo_code.js":[847,177],"./logo_codesandbox.js":[848,178],"./logo_couchbase.js":[849,179],"./logo_docker.js":[850,180],"./logo_dropwizard.js":[851,181],"./logo_elastic.js":[852,182],"./logo_elastic_stack.js":[853,183],"./logo_elasticsearch.js":[854,184],"./logo_enterprise_search.js":[855,185],"./logo_etcd.js":[856,186],"./logo_gcp.js":[857,187],"./logo_gcp_mono.js":[858,188],"./logo_github.js":[859,189],"./logo_gmail.js":[860,190],"./logo_golang.js":[861,361],"./logo_haproxy.js":[862,362],"./logo_ibm.js":[863,191],"./logo_ibm_mono.js":[864,192],"./logo_kafka.js":[865,193],"./logo_kibana.js":[866,194],"./logo_kubernetes.js":[867,195],"./logo_logging.js":[868,196],"./logo_logstash.js":[869,197],"./logo_maps.js":[870,198],"./logo_memcached.js":[871,199],"./logo_metrics.js":[872,200],"./logo_mongodb.js":[873,201],"./logo_mysql.js":[874,202],"./logo_nginx.js":[875,203],"./logo_observability.js":[876,204],"./logo_osquery.js":[877,205],"./logo_php.js":[878,206],"./logo_postgres.js":[879,207],"./logo_prometheus.js":[880,208],"./logo_rabbitmq.js":[881,209],"./logo_redis.js":[882,210],"./logo_security.js":[883,211],"./logo_site_search.js":[884,212],"./logo_sketch.js":[885,213],"./logo_slack.js":[886,214],"./logo_uptime.js":[887,215],"./logo_webhook.js":[888,216],"./logo_windows.js":[889,217],"./logo_workplace_search.js":[890,218],"./logstash_filter.js":[891,219],"./logstash_if.js":[892,220],"./logstash_input.js":[893,221],"./logstash_output.js":[894,222],"./logstash_queue.js":[895,223],"./magnet.js":[896,224],"./magnifyWithMinus.js":[897,225],"./magnifyWithPlus.js":[898,226],"./map_marker.js":[899,227],"./memory.js":[900,228],"./menuLeft.js":[901,229],"./menuRight.js":[902,230],"./merge.js":[903,231],"./minimize.js":[904,232],"./minus_in_circle.js":[905,233],"./minus_in_circle_filled.js":[906,234],"./ml_create_advanced_job.js":[907,235],"./ml_create_multi_metric_job.js":[908,236],"./ml_create_population_job.js":[909,237],"./ml_create_single_metric_job.js":[910,238],"./ml_data_visualizer.js":[911,239],"./moon.js":[912,240],"./nested.js":[913,241],"./node.js":[914,242],"./number.js":[915,243],"./offline.js":[916,244],"./online.js":[917,245],"./package.js":[918,246],"./pageSelect.js":[919,247],"./pagesSelect.js":[920,248],"./paint.js":[921,249],"./partial.js":[922,250],"./pause.js":[923,251],"./pencil.js":[924,252],"./pin.js":[925,253],"./pin_filled.js":[926,254],"./play.js":[927,255],"./plus_in_circle.js":[928,256],"./plus_in_circle_filled.js":[929,257],"./popout.js":[930,258],"./question_in_circle.js":[931,259],"./refresh.js":[932,260],"./save.js":[933,261],"./scale.js":[934,262],"./search.js":[935,263],"./securitySignal.js":[936,264],"./securitySignalDetected.js":[937,265],"./securitySignalResolved.js":[938,266],"./shard.js":[939,267],"./share.js":[940,268],"./snowflake.js":[941,269],"./sortLeft.js":[942,270],"./sortRight.js":[943,271],"./sort_down.js":[944,272],"./sort_up.js":[945,273],"./sortable.js":[946,274],"./starPlusEmpty.js":[947,275],"./starPlusFilled.js":[948,276],"./star_empty.js":[949,277],"./star_empty_space.js":[950,278],"./star_filled.js":[951,279],"./star_filled_space.js":[952,280],"./star_minus_empty.js":[953,281],"./star_minus_filled.js":[954,282],"./stats.js":[955,283],"./stop.js":[956,284],"./stop_filled.js":[957,285],"./stop_slash.js":[958,286],"./storage.js":[959,287],"./string.js":[960,288],"./submodule.js":[961,289],"./swatch_input.js":[962,290],"./symlink.js":[963,291],"./tableOfContents.js":[964,292],"./table_density_compact.js":[965,293],"./table_density_expanded.js":[966,294],"./table_density_normal.js":[967,295],"./tag.js":[968,296],"./tear.js":[969,297],"./temperature.js":[970,298],"./timeline.js":[971,299],"./tokens/tokenAnnotation.js":[972,300],"./tokens/tokenArray.js":[973,301],"./tokens/tokenBoolean.js":[974,302],"./tokens/tokenClass.js":[975,303],"./tokens/tokenConstant.js":[976,304],"./tokens/tokenElement.js":[977,305],"./tokens/tokenEnum.js":[978,306],"./tokens/tokenEnumMember.js":[979,307],"./tokens/tokenEvent.js":[980,308],"./tokens/tokenException.js":[981,309],"./tokens/tokenField.js":[982,310],"./tokens/tokenFile.js":[983,311],"./tokens/tokenFunction.js":[984,312],"./tokens/tokenInterface.js":[985,313],"./tokens/tokenKey.js":[986,314],"./tokens/tokenMethod.js":[987,315],"./tokens/tokenModule.js":[988,316],"./tokens/tokenNamespace.js":[989,317],"./tokens/tokenNull.js":[990,318],"./tokens/tokenNumber.js":[991,319],"./tokens/tokenObject.js":[992,320],"./tokens/tokenOperator.js":[993,321],"./tokens/tokenPackage.js":[994,322],"./tokens/tokenParameter.js":[995,323],"./tokens/tokenProperty.js":[996,324],"./tokens/tokenRepo.js":[997,325],"./tokens/tokenString.js":[998,326],"./tokens/tokenStruct.js":[999,327],"./tokens/tokenSymbol.js":[1e3,328],"./tokens/tokenVariable.js":[1001,329],"./training.js":[1002,330],"./trash.js":[1003,331],"./user.js":[1004,332],"./vector.js":[1005,333],"./videoPlayer.js":[1006,334],"./vis_area.js":[1007,335],"./vis_area_stacked.js":[1008,336],"./vis_bar_horizontal.js":[1009,337],"./vis_bar_horizontal_stacked.js":[1010,338],"./vis_bar_vertical.js":[1011,339],"./vis_bar_vertical_stacked.js":[1012,340],"./vis_controls.js":[1013,341],"./vis_gauge.js":[1014,342],"./vis_goal.js":[1015,343],"./vis_heatmap.js":[1016,344],"./vis_line.js":[1017,345],"./vis_map_coordinate.js":[1018,346],"./vis_map_region.js":[1019,347],"./vis_metric.js":[1020,348],"./vis_pie.js":[1021,349],"./vis_table.js":[1022,350],"./vis_tag_cloud.js":[1023,351],"./vis_text.js":[1024,352],"./vis_timelion.js":[1025,353],"./vis_vega.js":[1026,354],"./vis_visual_builder.js":[1027,355],"./wrench.js":[1028,356]};function l(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],l=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(l)}))}l.keys=function(){return Object.keys(n)},l.id=302,e.exports=l},473:function(e,t,a){},661:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),o=a.n(i),s=(a(275),a(276),a(88)),r=a(45),c=a(94),d=a(16),u=a(17),p=a(19),m=a(18),g=a(20),f=a(1075),h=a(1076),b=a(1077),v=a(1078),k=a(1079),y=a(1080),j=a(1081),_=a(1082),E=a(1083),w=a(1084),x=a(1116),C=a(1110),S=a(1086),N=a(1087),O=a(247),L=a(216),B=a(1088),R=a(664),I=(a(281),a(208)),M=a.n(I),T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){a.setState({userName:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onLoginClick=function(e){""!==a.state.username&&""!==a.state.password?(a.setState({showErrors:!1}),M.a.get("http://localhost:4000/login",{params:{username:a.state.userName,password:a.state.password}},{withCredentials:!0}).then((function(e){console.log("login-response->",e),e.data.success&&a.setState({authenticated:!0})})).catch((function(e){a.setState({authenticated:!0}),a.props.userLogin(a.state.userName)})).finally((function(){}))):a.setState({showErrors:!0})},a.enterPressed=function(e){13===(e.keyCode||e.which)&&""!==a.state.username&&""!==a.state.password&&a.onLoginClick()},a.state={userName:"",password:"",authenticated:!1,showErrors:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.authenticated?l.a.createElement(r.a,{to:"/"}):(this.state.showErrors&&(e=["Username / Password cannot be empty!!"]),l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement(k.a,{size:"l"},l.a.createElement("h1",null,"Elastic Sample"))),l.a.createElement(v.a,null,"elastic sample")),l.a.createElement(y.a,{size:"xxl"}),l.a.createElement(j.a,{verticalPosition:"center",horizontalPosition:"center"},l.a.createElement(_.a,null,l.a.createElement(E.a,null,l.a.createElement(k.a,null,l.a.createElement("h2",null,"Sign-In")))),l.a.createElement(w.a,null,l.a.createElement(x.a,{isInvalid:this.state.showErrors,error:e},l.a.createElement(C.a,null,l.a.createElement(S.a,{placeholder:"Username",value:this.state.userName,onChange:this.onNameChange,icon:"user","aria-label":"Use aria labels when no actual label is in use",onKeyUp:this.enterPressed})),l.a.createElement(y.a,{size:"m"}),l.a.createElement(C.a,null,l.a.createElement(N.a,{placeholder:"Password",value:this.state.password,onChange:this.onPasswordChange,"aria-label":"Use aria labels when no actual label is in use",onKeyUp:this.enterPressed})),l.a.createElement(y.a,{size:"m"}),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{fill:!0,onClick:this.onLoginClick},"GO"))))),l.a.createElement(B.a,null,l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,{grow:!1},l.a.createElement(R.a,{gutterSize:"s"},l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{color:"ghost",size:"s",iconType:"help"},"Help")),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{color:"ghost",size:"s",iconType:"globe"},"Sitemap")))))))));var e}}]),t}(l.a.Component),P={userLogin:function(e){return{type:"USER_LOGIN",payload:{userName:e}}}},z=Object(c.b)((function(e){return{reducer:e.reducer}}),P)(T),q=a(95),D=a(1099),A=a(1113),F=a(1089),H=a(60),U=a(1100),W=a(1101),J=a(1102),Y=a(1118),V=a(210),G=a(1117),K=a(1091),X=a(1092),Z=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=l.a.createElement(F.a,{"aria-controls":"keyPadMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},l.a.createElement(H.a,{type:"apps",size:"m"}));return l.a.createElement(G.a,{id:"headerAppMenu",ownFocus:!0,button:e,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu},l.a.createElement(K.a,{id:"keyPadMenu",style:{width:288}},l.a.createElement(X.a,{label:"Discover",href:"#"},l.a.createElement(H.a,{type:"discoverApp",size:"l"})),l.a.createElement(X.a,{label:"Dashboard",href:"#"},l.a.createElement(H.a,{type:"dashboardApp",size:"l"})),l.a.createElement(X.a,{label:"Dev Tools",href:"#"},l.a.createElement(H.a,{type:"devToolsApp",size:"l"})),l.a.createElement(X.a,{label:"Machine Learning",href:"#"},l.a.createElement(H.a,{type:"machineLearningApp",size:"l"})),l.a.createElement(X.a,{label:"Graph",href:"#"},l.a.createElement(H.a,{type:"graphApp",size:"l"})),l.a.createElement(X.a,{label:"Visualize",href:"#"},l.a.createElement(H.a,{type:"visualizeApp",size:"l"})),l.a.createElement(X.a,{label:"Timelion",href:"#"},l.a.createElement(H.a,{type:"timelionApp",size:"l"}))))}}]),t}(n.Component),$=a(1093),Q=a(1094),ee=a(1111),te=a(1095),ae=a(1096),ne=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement(F.a,{"aria-controls":"headerUserMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Account menu",onClick:this.onMenuButtonClick},l.a.createElement($.a,{name:"John Smith",size:"s"}),l.a.createElement(Q.a,{className:"euiHeaderNotification"},"3"));return l.a.createElement(G.a,{id:"headerUserMenu",ownFocus:!0,button:t,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu,panelPaddingSize:"none"},l.a.createElement("div",{style:{width:320}},l.a.createElement(R.a,{gutterSize:"m",className:"euiHeaderProfile",responsive:!1},l.a.createElement(O.a,{grow:!1},l.a.createElement($.a,{name:"John Smith",size:"xl"})),l.a.createElement(O.a,null,l.a.createElement(ee.a,null,l.a.createElement("p",null,"John Smith")),l.a.createElement(y.a,{size:"m"}),l.a.createElement(R.a,null,l.a.createElement(O.a,null,l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,{grow:!1},l.a.createElement(te.a,{href:""},"Edit profile")),l.a.createElement(O.a,{grow:!1},l.a.createElement(te.a,{onClick:function(){return e.props.onLogoutClick()}},"Log out"))))))),l.a.createElement(ae.a,{title:"Here\u2019s a notification title",text:"I am the hat judge. Show me a hat and I will tell you if it\u2019s a good hat or bad hat.",date:"Nov. 14, 02:14PM."}),l.a.createElement(ae.a,{title:"Here\u2019s a notification title that is extremely long and will wrap",text:"I am the hat judge. Show me a hat and I will tell you if it\u2019s a good hat or bad hat.",action:l.a.createElement(te.a,{href:"#"},"Download your thing here"),date:"Nov. 14, 02:14PM."}),l.a.createElement(ae.a,{title:"Here\u2019s a notification title",text:"I am the hat judge. Show me a hat and I will tell you if it\u2019s a good hat or bad hat.",action:l.a.createElement(te.a,{href:"#"},"Download your thing here"),date:"Nov. 14, 02:14PM."})))}}]),t}(n.Component),le=a(1109),ie=a(1097),oe=a(1098),se=a(57),re=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).isListExtended=function(){return a.state.spaces.length>4},a.onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closePopover=function(){a.setState({isOpen:!1})},a.onChange=function(e){a.setState({spaces:e,selectedSpace:e.filter((function(e){return e.checked}))[0],isOpen:!1})},a.addMoreSpaces=function(){a.setState({spaces:a.spaces.concat(a.additionalSpaces)})},a.spaces=[{label:"Sales team",prepend:l.a.createElement($.a,{type:"space",name:"Sales Team",size:"s"}),checked:"on"},{label:"Engineering",prepend:l.a.createElement($.a,{type:"space",name:"Engineering",size:"s"})},{label:"Security",prepend:l.a.createElement($.a,{type:"space",name:"Security",size:"s"})},{label:"Default",prepend:l.a.createElement($.a,{type:"space",name:"Default",size:"s"})}],a.additionalSpaces=[{label:"Sales team 2",prepend:l.a.createElement($.a,{type:"space",name:"Sales Team 2",size:"s"})},{label:"Engineering 2",prepend:l.a.createElement($.a,{type:"space",name:"Engineering 2",size:"s"})},{label:"Security 2",prepend:l.a.createElement($.a,{type:"space",name:"Security 2",size:"s"})},{label:"Default 2",prepend:l.a.createElement($.a,{type:"space",name:"Default 2",size:"s"})}],a.state={spaces:a.spaces,selectedSpace:a.spaces.filter((function(e){return e.checked}))[0],isOpen:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedSpace,n=t.isOpen,i=t.spaces,o=l.a.createElement(F.a,{"aria-controls":"headerSpacesMenuList","aria-expanded":n,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},a.prepend);return l.a.createElement(G.a,{id:"headerSpacesMenu",ownFocus:!0,button:o,isOpen:n,anchorPosition:"downLeft",closePopover:this.closePopover,panelPaddingSize:"none"},l.a.createElement(le.a,{searchable:this.isListExtended(),searchProps:{placeholder:"Find a space",compressed:!0},options:i,singleSelection:"always",style:{width:300},onChange:this.onChange,listProps:{rowHeight:40,showIcons:!1}},(function(t,a){return l.a.createElement(se.Fragment,null,l.a.createElement(ie.a,null,a||"Your spaces"),t,l.a.createElement(oe.a,null,l.a.createElement(L.a,{size:"s",fullWidth:!0,onClick:e.addMoreSpaces,disabled:e.isListExtended()},"Add more spaces")))})))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleOpenOnMobile=function(){a.setState({isSideNavOpenOnMobile:!a.state.isSideNavOpenOnMobile})},a.selectItem=function(e){a.setState({selectedItemName:e})},a.createItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(q.a)({},t,{id:e,name:e,isSelected:a.state.selectedItemName===e,onClick:function(){return a.selectItem(e)}})},a.handleLogout=function(e){console.log("logout-click-state-lift"),a.setState({authenticated:!1})},a.openSketchPad=function(e){a.setState({editJourney:!0})},a.state={isSideNavOpenOnMobile:!1,selectedItemName:"Lion stuff",authenticated:!0,editJourney:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"renderLogo",value:function(){return l.a.createElement(D.a,{iconType:"logoKibana",href:"#","aria-label":"Go to home page"})}},{key:"renderBreadcrumbs",value:function(){var e=[{text:"Management",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked management")},"data-test-subj":"breadcrumbsAnimals",className:"customClass"},{text:"Truncation test is here for a really long item",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked truncation test")}},{text:"hidden",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked hidden")}},{text:"Users",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked users")}},{text:"Create"}];return l.a.createElement(A.a,{breadcrumbs:e})}},{key:"renderSearch",value:function(){return l.a.createElement(F.a,{"aria-label":"Search"},l.a.createElement(H.a,{type:"search",size:"m"}))}},{key:"render",value:function(){var e=this;if(!this.state.authenticated)return l.a.createElement(r.a,{to:"/login"});if(this.state.editJourney)return l.a.createElement(r.a,{to:"/sketchpad"});var t=[this.createItem("Elasticsearch",{icon:l.a.createElement(H.a,{type:"logoElasticsearch"}),items:[this.createItem("Data sources"),this.createItem("Users"),this.createItem("Roles"),this.createItem("Watches"),this.createItem("Extremely long title will become truncated when the browser is narrow enough")]}),this.createItem("Kibana",{icon:l.a.createElement(H.a,{type:"logoKibana"}),items:[this.createItem("Advanced settings",{items:[this.createItem("General"),this.createItem("Timelion",{items:[this.createItem("Time stuff",{icon:l.a.createElement(H.a,{type:"clock"})}),this.createItem("Lion stuff",{icon:l.a.createElement(H.a,{type:"stats"})})]}),this.createItem("Visualizations")]}),this.createItem("Index Patterns"),this.createItem("Saved Objects"),this.createItem("Reporting")]}),this.createItem("Logstash",{icon:l.a.createElement(H.a,{type:"logoLogstash"}),items:[this.createItem("Pipeline viewer")]})];return l.a.createElement(f.a,{style:{padding:"0px"}},l.a.createElement(h.a,null,l.a.createElement(U.a,null,l.a.createElement(W.a,{grow:!1},l.a.createElement(J.a,{border:"right"},this.renderLogo()),l.a.createElement(J.a,{border:"right"},l.a.createElement(re,null))),this.renderBreadcrumbs(),l.a.createElement(W.a,{side:"right"},l.a.createElement(J.a,null,this.renderSearch()),l.a.createElement(J.a,null,l.a.createElement(ne,{onLogoutClick:function(){return e.handleLogout()}})),l.a.createElement(J.a,null,l.a.createElement(Z,null)))),l.a.createElement(R.a,null,l.a.createElement(O.a,{grow:!1},l.a.createElement(Y.a,{mobileTitle:"Navigate within $APP_NAME",toggleOpenOnMobile:this.toggleOpenOnMobile,isOpenOnMobile:this.state.isSideNavOpenOnMobile,items:t,style:{width:192}})),l.a.createElement(O.a,null,l.a.createElement(j.a,null,l.a.createElement(_.a,null,l.a.createElement(E.a,null,l.a.createElement(k.a,null,l.a.createElement("h2",null,"Journeys"))),l.a.createElement(E.a,null,l.a.createElement(L.a,{fill:!0,onClick:this.openSketchPad},"Create Journey"))),l.a.createElement(w.a,null,l.a.createElement(V.a,{paddingSize:"s",style:{marginBottom:10}},l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,null,"Frequent user flow"),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View")))),l.a.createElement(V.a,{paddingSize:"s",style:{marginBottom:10}},l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,null,"Rare user flow"),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View")))),l.a.createElement(V.a,{paddingSize:"s",style:{marginBottom:10}},l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,null,"Addicted user flow"),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View"))))))))))}}]),t}(l.a.Component),de=a(1107),ue=a(1115),pe=(a(473),a(229)),me=a.n(pe),ge=a(230),fe=a.n(ge),he=a(231),be=a.n(he),ve=a(232),ke=a.n(ve),ye=a(233),je=a.n(ye),_e=a(143),Ee=a.n(_e),we=a(234),xe=a.n(we),Ce=a(235),Se=a.n(Ce),Ne=a(144),Oe=a.n(Ne),Le=a(236),Be=a.n(Le),Re=a(71),Ie=a(237),Me=a(1103),Te=a(1104),Pe=a(239),ze=a(1105),qe=a(1112),De=a(1106),Ae=a(1114),Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState({value:e})},a.options=[{value:"option_one",inputDisplay:"Option one",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option one"),l.a.createElement(ee.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_two",inputDisplay:"Option two",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option two"),l.a.createElement(ee.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_three",inputDisplay:"Option three",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option three"),l.a.createElement(ee.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))}],a.state={value:"option_one"},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(Ae.a,{options:this.options,valueOfSelected:this.state.value,onChange:this.onChange,itemLayoutAlign:"top",hasDividers:!0})}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onSwitchChange=function(){a.setState({isSwitchChecked:!a.state.isSwitchChecked})},a.closePopover=function(){a.setState({isPopoverOpen:!1})},a.togglePopover=function(){a.setState((function(e){return{isPopoverOpen:!e.isPopoverOpen}}))},a.onSelectedTabChanged=function(e){a.setState({selectedTabId:e})},a.state={isFlyoutVisible:!1,isSwitchChecked:!0,selectedTabId:"1",isPopoverOpen:!1},a.tabs=[{id:"1",name:"Tab 1"},{id:"2",name:"Tab 2"}],a.closeFlyout=a.closeFlyout.bind(Object(Re.a)(a)),a.showFlyout=a.showFlyout.bind(Object(Re.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"closeFlyout",value:function(){this.setState({isFlyoutVisible:!1})}},{key:"showFlyout",value:function(){this.setState({isFlyoutVisible:!0})}},{key:"renderTabs",value:function(){var e=this;return this.tabs.map((function(t,a){return l.a.createElement(Ie.a,{onClick:function(){return e.onSelectedTabChanged(t.id)},isSelected:t.id===e.state.selectedTabId,key:a},t.name)}))}},{key:"render",value:function(){var e=l.a.createElement(ee.a,null,l.a.createElement("p",null,"Far out in the uncharted backwaters of the unfashionable end of the western spiral arm of the Galaxy lies a small unregarded yellow sun."),l.a.createElement("p",null,"Orbiting this at a distance of roughly ninety-two million miles is an utterly insignificant little blue green planet whose ape- descended life forms are so amazingly primitive that they still think digital watches are a pretty neat idea."),l.a.createElement("ul",null,l.a.createElement("li",null,"List item one"),l.a.createElement("li",null,"List item two"),l.a.createElement("li",null,"Dolphins")),l.a.createElement("p",null,"This planet has - or rather had - a problem, which was this: most of the people living on it were unhappy for pretty much of the time. Many solutions were suggested for this problem, but most of these were largely concerned with the movements of small green pieces of paper, which is odd because on the whole it was not the small green pieces of paper that were unhappy."),l.a.createElement("h2",null,"This is Heading Two"),l.a.createElement("ol",null,l.a.createElement("li",null,"Number one"),l.a.createElement("li",null,"Number two"),l.a.createElement("li",null,"Dolphins again")),l.a.createElement("p",null,"But the dog wasn\u2019t lazy, it was just practicing mindfulness, so it had a greater sense of life-satisfaction than that fox with all its silly jumping."),l.a.createElement("p",null,"And from the fox\u2019s perspective, life was full of hoops to jump"," ",l.a.createElement("em",null,"through"),", low-hanging fruit to jump ",l.a.createElement("em",null,"for"),", and dead car batteries to jump-",l.a.createElement("em",null,"start"),"."),l.a.createElement("h3",null,"This is Heading Three"),l.a.createElement("p",null,"So it thought the dog was making a poor life choice by focusing so much on mindfulness. What if its car broke down?")),t=this.props.closeSettings;return l.a.createElement(Me.a,{onClose:this.closeFlyout,hideCloseButton:!0,"aria-labelledby":"flyoutComplicatedTitle"},l.a.createElement(Te.a,{hasBorder:!0},l.a.createElement(k.a,{size:"m"},l.a.createElement("h2",{id:"flyoutComplicatedTitle"},"Flyout header")),l.a.createElement(y.a,{size:"s"}),l.a.createElement(ee.a,{color:"subdued"},l.a.createElement("p",null,"Put navigation items in the header, and cross tab actions in a footer.")),l.a.createElement(Pe.a,{style:{marginBottom:"-25px"}},this.renderTabs())),l.a.createElement(ze.a,null,l.a.createElement(G.a,{closePopover:this.closePopover,button:l.a.createElement(L.a,{onClick:this.togglePopover},"Even popovers can be included"),isOpen:this.state.isPopoverOpen},l.a.createElement("p",null,"This is the popover content, notice how it can overflow the flyout!")),l.a.createElement(y.a,{size:"m"}),l.a.createElement(x.a,null,l.a.createElement(C.a,{label:"A SuperSelect field"},l.a.createElement(Fe,null))),l.a.createElement(y.a,null),e,l.a.createElement(qe.a,{language:"html"},"\x3c!--I'm an example of HTML--\x3e\n                    <div>\n                    asdf\n                    </div>\n                    ")),l.a.createElement(De.a,null,l.a.createElement(R.a,{justifyContent:"spaceBetween"},l.a.createElement(O.a,{grow:!1},l.a.createElement(de.a,{iconType:"cross",onClick:t,flush:"left"},"Close")),l.a.createElement(O.a,{grow:!1},l.a.createElement(L.a,{onClick:this.closeFlyout,fill:!0},"Save")))))}}]),t}(n.Component),Ue=a(1108),We=a(240),Je=a.n(We),Ye=a(146),Ve=a.n(Ye),Ge=a(241),Ke=a.n(Ge),Xe=a(147),Ze=a.n(Xe),$e=a(148),Qe=a.n($e),et=a(242),tt=a.n(et),at=a(149),nt=a.n(at),lt=[{id:"triggers",name:"Triggers",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"1"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Je.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Enter Workflow"),l.a.createElement("p",{className:"blockdesc"},"Triggers when somebody visits a specified page")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"2"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ve.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Action is performed"),l.a.createElement("p",{className:"blockdesc"},"Triggers when somebody performs a specified action")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"3"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ke.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Time has passed"),l.a.createElement("p",{className:"blockdesc"},"Triggers after a specified amount of time")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"4"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ze.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Exit Workflow"),l.a.createElement("p",{className:"blockdesc"},"Triggers when a specified error happens")))))},{id:"actions",name:"Actions",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"5"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Qe.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"New database entry"),l.a.createElement("p",{className:"blockdesc"},"Adds a new entry to a specified database")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"6"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Qe.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Update database"),l.a.createElement("p",{className:"blockdesc"},"Edits and deletes database entries and properties")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"7"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ve.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Perform an action"),l.a.createElement("p",{className:"blockdesc"},"Performs or edits a specified action")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"8"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:tt.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Make a tweet"),l.a.createElement("p",{className:"blockdesc"},"Makes a tweet with a specified query")))))},{id:"loggers",name:"Loggers",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"9"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:nt.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Add new log entry"),l.a.createElement("p",{className:"blockdesc"},"Adds a new log entry to this project")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"10"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:nt.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Update logs"),l.a.createElement("p",{className:"blockdesc"},"Edits and deletes log entries in this project")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"11"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ze.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Prompt an error"),l.a.createElement("p",{className:"blockdesc"},"Triggers a specified error")))))}],it=function(e){return l.a.createElement(Ue.a,{tabs:lt,initialSelectedTab:lt[0],onTabClick:function(e){},expand:!0,size:"s"})},ot=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={showSettings:!1,editMode:a.props.editMode},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=void 0,a.blocks=void 0,a.blockstemp=void 0,a.canvas_div=void 0,a.active=void 0,a.paddingx=void 0,a.paddingy=void 0,a.offsetleft=void 0,a.offsetleftold=void 0,a.rearrange=void 0,a.lastevent=void 0,a.dragx=void 0,a.dragy=void 0,a.original=void 0,a.drag=void 0,a.mouse_x=void 0,a.mouse_y=void 0,a.dragblock=void 0,a.link=void 0,a.canvasRef=void 0,a.chartData=void 0,a.aclick=void 0,a.rightcard=void 0,a.tempblock=void 0,a.editMode=void 0,a.closeSettings=function(e){a.rightcard&&(a.rightcard=!1,a.setState({showSettings:!1}),a.tempblock.classList.remove("selectedblock"))},a.blockGrabbed=function(e){e.classList.add("blockdisabled"),a.tempblock2=e},a.import=function(e){a.canvas_div.innerHTML=JSON.parse(e.html),a.blocks=e.blockarr},a.output=function(){var e={html:JSON.stringify(a.canvas_div.innerHTML),blockarr:a.blocks,blocks:[]};if(a.blocks.length>0){for(var t=function(t){e.blocks.push({id:a.blocks[t].id,parent:a.blocks[t].parent,data:[],attr:[]});var n=document.querySelector(".blockid[value='"+a.blocks[t].id+"']").parentNode;n.querySelectorAll("input").forEach((function(a){var n=a.getAttribute("name"),l=a.value;e.blocks[t].data.push({name:n,value:l})})),Array.prototype.slice.call(n.attributes).forEach((function(a){var n={};n[a.name]=a.value,e.blocks[t].attr.push(n)}))},n=0;n<a.blocks.length;n++)t(n);return e}},a.deleteBlocks=function(){a.blocks=[],a.canvas_div.innerHTML="<div class='indicator invisible'></div>"},a.beginDrag=function(e){if(a.aclick=!0,e.targetTouches?(a.mouse_x=e.changedTouches[0].clientX,a.mouse_y=e.changedTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),3!==e.which&&e.target.closest(".create-flowy")){a.original=e.target.closest(".create-flowy");var t=e.target.closest(".create-flowy").cloneNode(!0);e.target.closest(".create-flowy").classList.add("dragnow"),t.classList.add("block"),t.classList.remove("create-flowy"),0===a.blocks.length?(t.innerHTML+="<input type='hidden' name='blockid' class='blockid' value='"+a.blocks.length+"'>",document.body.appendChild(t),a.drag=document.querySelector(".blockid[value='"+a.blocks.length+"']").parentNode):(t.innerHTML+="<input type='hidden' name='blockid' class='blockid' value='"+(Math.max.apply(Math,a.blocks.map((function(e){return e.id})))+1)+"'>",document.body.appendChild(t),a.drag=document.querySelector(".blockid[value='"+(Math.max.apply(Math,a.blocks.map((function(e){return e.id})))+1)+"']").parentNode),a.blockGrabbed(e.target.closest(".create-flowy")),a.drag.classList.add("dragging"),a.active=!0,a.dragx=a.mouse_x-e.target.closest(".create-flowy").offsetLeft,a.dragy=a.mouse_y-e.target.closest(".create-flowy").offsetTop,a.drag.style.left=a.mouse_x-a.dragx+"px",a.drag.style.top=a.mouse_y-a.dragy+"px"}},a.touchDone=function(){a.dragblock=!1},a.endDrag=function(e){if("mouseup"===e.type&&a.aclick&&!a.rightcard&&a.hasParentClass(e.target,"block")&&(a.tempblock=e.target.closest(".block"),a.rightcard=!0,a.setState({showSettings:!0}),a.tempblock.classList.add("selectedblock")),3!==e.which&&(a.active||a.rearrange)){a.dragblock=!1,a.blockReleased();var t=parseInt(a.drag.querySelector(".blockid").value),n=a.blockstemp.filter((function(e){return e.id===t}))[0],l=!!n&&-1===n.parent;if(document.querySelector(".indicator").classList.contains("invisible")||document.querySelector(".indicator").classList.add("invisible"),a.active&&(a.original.classList.remove("dragnow"),a.drag.classList.remove("dragging")),l&&a.rearrange)if(a.drag.classList.remove("dragging"),a.link)!function(){for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){var i=a.blocks.filter((function(e){return e.id===n[l]}))[0];if(e>=i.x-i.width/2-a.paddingx&&e<=i.x+i.width/2+a.paddingx&&t>=i.y-i.height/2&&t<=i.y+i.height)return a.active=!1,a.snap(l,n),"break"},i=0;i<a.blocks.length;i++){if("break"===l(i))break}a.link=!1}();else{a.rearrange=!1;for(var i=0;i<a.blockstemp.length;i++)if(a.blockstemp[i].id!==parseInt(a.drag.querySelector(".blockid").value)){var o=document.querySelector(".blockid[value='"+a.blockstemp[i].id+"']").parentNode,s=document.querySelector(".arrowid[value='"+a.blockstemp[i].id+"']").parentNode;o.style.left=o.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",o.style.top=o.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop+"px",s.style.left=s.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",s.style.top=s.getBoundingClientRect().top-(a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop)+"px",a.canvas_div.appendChild(o),a.canvas_div.appendChild(s),a.blockstemp[i].x=o.getBoundingClientRect().left+parseInt(o.offsetWidth)/2+a.canvas_div.scrollLeft,a.blockstemp[i].y=o.getBoundingClientRect().top+parseInt(o.offsetHeight)/2+a.canvas_div.scrollTop}a.blockstemp.filter((function(e){return e.id===n.id}))[0].x=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2,a.blockstemp.filter((function(e){return e.id===n.id}))[0].y=a.drag.getBoundingClientRect().top+parseInt(window.getComputedStyle(a.drag).height)/2,a.blocks=a.blocks.concat(a.blockstemp),a.blockstemp=[]}else a.active&&!a.link&&a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left?(a.blockSnap(),a.active=!1,a.drag.style.top=a.drag.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop+"px",a.drag.style.left=a.drag.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",a.canvas_div.appendChild(a.drag),a.blocks.push({parent:-1,childwidth:0,id:parseInt(a.drag.querySelector(".blockid").value),x:a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,y:a.drag.getBoundingClientRect().top+parseInt(window.getComputedStyle(a.drag).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.drag).width),height:parseInt(window.getComputedStyle(a.drag).height)})):a.active&&0===a.blocks.length?(a.canvas_div.appendChild(document.querySelector(".indicator")),a.drag.parentNode.removeChild(a.drag)):(a.active||a.rearrange)&&function(){a.link=!1;for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){var i=a.blocks.filter((function(e){return e.id===n[l]}))[0];return e>=i.x-i.width/2-a.paddingx&&e<=i.x+i.width/2+a.paddingx&&t>=i.y-i.height/2&&t<=i.y+i.height?(a.active=!1,(!a.rearrange&&a.blockSnap()||a.rearrange)&&a.snap(l,n),"break"):l===a.blocks.length-1?(a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left?(a.blockstemp[0].parent=-1,a.rearrange&&(a.rearrange=!1,a.blocks=a.blocks.concat(a.blockstemp),a.blockstemp=[])):(a.drag.parentNode.removeChild(a.drag),a.drag=null),a.rearrange=!1,a.active=!1,a.canvas_div.appendChild(document.querySelector(".indicator")),"break"):void 0},i=0;i<a.blocks.length;i++){if("break"===l(i))break}}()}},a.snap=function(e,t){a.rearrange||a.canvas_div.appendChild(a.drag);for(var n=0,l=0,i=0;i<a.blocks.filter((function(a){return a.parent===t[e]})).length;i++){var o=a.blocks.filter((function(a){return a.parent===t[e]}))[i];o.childwidth>o.width?n+=o.childwidth+a.paddingx:n+=o.width+a.paddingx}n+=parseInt(window.getComputedStyle(a.drag).width);for(var s=0;s<a.blocks.filter((function(a){return a.parent===t[e]})).length;s++){var r=a.blocks.filter((function(a){return a.parent===t[e]}))[s];if(r.childwidth>r.width)document.querySelector(".blockid[value='"+r.id+"']").parentNode.style.left=a.blocks.filter((function(a){return a.id===t[e]}))[0].x-n/2+l+r.childwidth/2-r.width/2+"px",r.x=a.blocks.filter((function(a){return a.parent===t[e]}))[0].x-n/2+l+r.childwidth/2,l+=r.childwidth+a.paddingx;else document.querySelector(".blockid[value='"+r.id+"']").parentNode.style.left=a.blocks.filter((function(a){return a.id===t[e]}))[0].x-n/2+l+"px",r.x=a.blocks.filter((function(a){return a.parent===t[e]}))[0].x-n/2+l+r.width/2,l+=r.width+a.paddingx}if(a.drag.style.left=a.blocks.filter((function(a){return a.id===t[e]}))[0].x-n/2+l-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",a.drag.style.top=a.blocks.filter((function(a){return a.id===t[e]}))[0].y+a.blocks.filter((function(a){return a.id===t[e]}))[0].height/2+a.paddingy-a.canvas_div.getBoundingClientRect().top+"px",a.rearrange){a.blockstemp.filter((function(e){return e.id===parseInt(a.drag.querySelector(".blockid").value)}))[0].x=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft+a.canvas_div.scrollLeft,a.blockstemp.filter((function(e){return e.id===parseInt(a.drag.querySelector(".blockid").value)}))[0].y=a.drag.getBoundingClientRect().top+parseInt(window.getComputedStyle(a.drag).height)/2+a.canvas_div.scrollTop,a.blockstemp.filter((function(e){return e.id===parseInt(a.drag.querySelector(".blockid").value)}))[0].parent=t[e];for(var c=0;c<a.blockstemp.length;c++)if(a.blockstemp[c].id!==parseInt(a.drag.querySelector(".blockid").value)){var d=document.querySelector(".blockid[value='"+a.blockstemp[c].id+"']").parentNode,u=document.querySelector(".arrowid[value='"+a.blockstemp[c].id+"']").parentNode;d.style.left=d.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",d.style.top=d.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop+"px",u.style.left=u.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+20+"px",u.style.top=u.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop+"px",a.canvas_div.appendChild(d),a.canvas_div.appendChild(u),a.blockstemp[c].x=d.getBoundingClientRect().left+parseInt(window.getComputedStyle(d).width)/2+a.canvas_div.scrollLeft,a.blockstemp[c].y=d.getBoundingClientRect().top+parseInt(window.getComputedStyle(d).height)/2+a.canvas_div.scrollTop}a.blocks=a.blocks.concat(a.blockstemp),a.blockstemp=[]}else a.blocks.push({childwidth:0,parent:t[e],id:parseInt(a.drag.querySelector(".blockid").value),x:a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,y:a.drag.getBoundingClientRect().top+parseInt(window.getComputedStyle(a.drag).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.drag).width),height:parseInt(window.getComputedStyle(a.drag).height)});var p=a.blocks.filter((function(e){return e.id===parseInt(a.drag.querySelector(".blockid").value)}))[0],m=p.x-a.blocks.filter((function(a){return a.id===t[e]}))[0].x+20,g=parseFloat(p.y-p.height/2-(a.blocks.filter((function(a){return a.parent===t[e]}))[0].y+a.blocks.filter((function(a){return a.parent===t[e]}))[0].height/2)+a.canvas_div.scrollTop);m<0?(a.canvas_div.innerHTML+='<div class="arrowblock"><input type="hidden" class="arrowid" value="'+a.drag.querySelector(".blockid").value+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M'+(a.blocks.filter((function(a){return a.id===t[e]}))[0].x-p.x+5)+" 0L"+(a.blocks.filter((function(a){return a.id===t[e]}))[0].x-p.x+5)+" "+a.paddingy/2+"L5 "+a.paddingy/2+"L5 "+g+'" stroke="#C5CCD0" stroke-width="2px"/><path d="M0 '+(g-5)+"H10L5 "+g+"L0 "+(g-5)+'Z" fill="#C5CCD0"/></svg></div>',document.querySelector('.arrowid[value="'+a.drag.querySelector(".blockid").value+'"]').parentNode.style.left=p.x-5-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px"):(a.canvas_div.innerHTML+='<div class="arrowblock"><input type="hidden" class="arrowid" value="'+a.drag.querySelector(".blockid").value+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 0L20 '+a.paddingy/2+"L"+m+" "+a.paddingy/2+"L"+m+" "+g+'" stroke="#C5CCD0" stroke-width="2px"/><path d="M'+(m-5)+" "+(g-5)+"H"+(m+5)+"L"+m+" "+g+"L"+(m-5)+" "+(g-5)+'Z" fill="#C5CCD0"/></svg></div>',document.querySelector('.arrowid[value="'+parseInt(a.drag.querySelector(".blockid").value)+'"]').parentNode.style.left=a.blocks.filter((function(a){return a.id===t[e]}))[0].x-20-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px");document.querySelector('.arrowid[value="'+parseInt(a.drag.querySelector(".blockid").value)+'"]').parentNode.style.top=a.blocks.filter((function(a){return a.id===t[e]}))[0].y+a.blocks.filter((function(a){return a.id===t[e]}))[0].height/2+"px",-1!==a.blocks.filter((function(a){return a.id===t[e]}))[0].parent&&function(){for(var l=!1,i=t[e];!l;)if(-1===a.blocks.filter((function(e){return e.id===i}))[0].parent)l=!0;else{for(var o=0,s=0;s<a.blocks.filter((function(e){return e.parent===i})).length;s++){var r=a.blocks.filter((function(e){return e.parent===i}))[s];r.childwidth>r.width?s===a.blocks.filter((function(e){return e.parent===i})).length-1?o+=r.childwidth:o+=r.childwidth+a.paddingx:s===a.blocks.filter((function(e){return e.parent===i})).length-1?o+=r.width:o+=r.width+a.paddingx}a.blocks.filter((function(e){return e.id===i}))[0].childwidth=o,i=a.blocks.filter((function(e){return e.id===i}))[0].parent}a.blocks.filter((function(e){return e.id===i}))[0].childwidth=n}(),a.rearrange&&(a.rearrange=!1,a.drag.classList.remove("dragging")),a.rearrangeMe(),a.checkOffset()},a.rearrangeMe=function(){for(var e=a.blocks.map((function(e){return e.parent})),t=function(t){if(-1===e[t]){if(!(t+1<e.length))return n=t,"break";t++}for(var l=0,i=0,o=function(n){var i=a.blocks.filter((function(a){return a.parent===e[t]}))[n];0===a.blocks.filter((function(e){return e.parent===i.id})).length&&(i.childwidth=0),i.childwidth>i.width?n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?l+=i.childwidth:l+=i.childwidth+a.paddingx:n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?l+=i.width:l+=i.width+a.paddingx},s=0;s<a.blocks.filter((function(a){return a.parent===e[t]})).length;s++)o(s);-1!==e[t]&&(a.blocks.filter((function(a){return a.id===e[t]}))[0].childwidth=l);for(var r=function(n){var o=a.blocks.filter((function(a){return a.parent===e[t]}))[n],s=document.querySelector(".blockid[value='"+o.id+"']").parentNode,r=a.blocks.filter((function(a){return a.id===e[t]}));if(!r.length)return"break";s.style.top=r.y+a.paddingy+"px",r.y=r.y+a.paddingy,o.childwidth>o.width?(s.style.left=r[0].x-l/2+i+o.childwidth/2-o.width/2-a.canvas_div.getBoundingClientRect().left+"px",o.x=r[0].x-l/2+i+o.childwidth/2,i+=o.childwidth+a.paddingx):(s.style.left=r[0].x-l/2+i-a.canvas_div.getBoundingClientRect().left+"px",o.x=r[0].x-l/2+i+o.width/2,i+=o.width+a.paddingx);var c=a.blocks.filter((function(e){return e.id===o.id}))[0],d=c.x-a.blocks.filter((function(e){return e.id===o.parent}))[0].x+20,u=c.y-c.height/2-(a.blocks.filter((function(e){return e.id===o.parent}))[0].y+a.blocks.filter((function(e){return e.id===o.parent}))[0].height/2);(document.querySelector('.arrowid[value="'+o.id+'"]').parentNode.style.top=a.blocks.filter((function(e){return e.id===o.parent}))[0].y+a.blocks.filter((function(e){return e.id===o.parent}))[0].height/2-a.canvas_div.getBoundingClientRect().top+"px",d<0)?(document.querySelector('.arrowid[value="'+o.id+'"]').parentNode.style.left=c.x-5-a.canvas_div.getBoundingClientRect().left+"px",document.querySelector('.arrowid[value="'+o.id+'"]').parentNode.innerHTML='<input type="hidden" class="arrowid" value="'+o.id+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M'+(a.blocks.filter((function(e){return e.id===o.parent}))[0].x-c.x+5)+" 0L"+(a.blocks.filter((function(e){return e.id===o.parent}))[0].x-c.x+5)+" "+a.paddingy/2+"L5 "+a.paddingy/2+"L5 "+u+'" stroke="#C5CCD0" stroke-width="2px"/><path d="M0 '+(u-5)+"H10L5 "+u+"L0 "+(u-5)+'Z" fill="#C5CCD0"/></svg>'):(document.querySelector('.arrowid[value="'+o.id+'"]').parentNode.style.left=a.blocks.filter((function(e){return e.id===o.parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left+"px",document.querySelector('.arrowid[value="'+o.id+'"]').parentNode.innerHTML='<input type="hidden" class="arrowid" value="'+o.id+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 0L20 '+a.paddingy/2+"L"+d+" "+a.paddingy/2+"L"+d+" "+u+'" stroke="#C5CCD0" stroke-width="2px"/><path d="M'+(d-5)+" "+(u-5)+"H"+(d+5)+"L"+d+" "+u+"L"+(d-5)+" "+(u-5)+'Z" fill="#C5CCD0"/></svg>')},c=0;c<a.blocks.filter((function(a){return a.parent===e[t]})).length;c++){if("break"===r(c))break}n=t},n=0;n<e.length;n++){if("break"===t(n))break}},a.checkOffset=function(){a.offsetleft=a.blocks.map((function(e){return e.x}));var e=a.blocks.map((function(e){return e.width})),t=a.offsetleft.map((function(t,a){return t-e[a]/2}));a.offsetleft=Math.min.apply(Math,t),a.offsetleft<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!0;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){if(document.querySelector(".blockid[value='"+a.blocks.filter((function(a){return a.id===e[t]}))[0].id+"']").parentNode.style.left=a.blocks.filter((function(a){return a.id===e[t]}))[0].x-a.blocks.filter((function(a){return a.id===e[t]}))[0].width/2-a.offsetleft+20+"px",-1!==a.blocks.filter((function(a){return a.id===e[t]}))[0].parent){var n=a.blocks.filter((function(a){return a.id===e[t]}))[0];if(n.x-a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x<0)document.querySelector('.arrowid[value="'+e[t]+'"]').parentNode.style.left=n.x-a.offsetleft+20-5+"px";else document.querySelector('.arrowid[value="'+e[t]+'"]').parentNode.style.left=a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x-20-a.offsetleft+20+"px"}},n=0;n<a.blocks.length;n++)t(n);for(var l=0;l<a.blocks.length;l++){var i=document.querySelector(".blockid[value='"+a.blocks[l].id+"']");a.blocks[l].x=i.parentNode.getBoundingClientRect().left+(a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft)-parseInt(window.getComputedStyle(i.parentNode).width)/2-40}a.offsetleftold=a.offsetleft}()},a.touchblock=function(e){if(a.dragblock=!1,a.hasParentClass(e.target,"block")){var t=e.target.closest(".block");e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),"mouseup"!==e.type&&a.hasParentClass(e.target,"block")&&3!==e.which&&(a.active||a.rearrange||(a.dragblock=!0,a.drag=t,a.dragx=a.mouse_x-a.drag.getBoundingClientRect().left,a.dragy=a.mouse_y-a.drag.getBoundingClientRect().top))}},a.hasParentClass=function(e,t){return!!(e.className&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&a.hasParentClass(e.parentNode,t)},a.moveBlock=function(e){if(e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),a.dragblock&&function(){a.rearrange=!0,a.drag.classList.add("dragging");var e=parseInt(a.drag.querySelector(".blockid").value);if(a.blockstemp.push(a.blocks.filter((function(t){return t.id===e}))[0]),a.blockstemp[0].parent=-1,a.blocks=a.blocks.filter((function(t){return t.id!==e})),0!==e){var t=document.querySelector(".arrowid[value='"+e+"']");t&&t.parentNode.remove()}for(var n=a.blocks.filter((function(t){return t.parent===e})),l=!1,i=[],o=[];!l;){for(var s=function(t){if(n[t]!==e){a.blockstemp.push(a.blocks.filter((function(e){return e.id===n[t].id}))[0]);var l=document.querySelector(".blockid[value='"+n[t].id+"']").parentNode,s=document.querySelector(".arrowid[value='"+n[t].id+"']").parentNode;l.style.left=l.getBoundingClientRect().left-a.drag.getBoundingClientRect().left+"px",l.style.top=l.getBoundingClientRect().top-a.drag.getBoundingClientRect().top+"px",s.style.left=s.getBoundingClientRect().left-a.drag.getBoundingClientRect().left+"px",s.style.top=s.getBoundingClientRect().top-a.drag.getBoundingClientRect().top+"px",a.drag.appendChild(l),a.drag.appendChild(s),i.push(n[t].id),o.push(n[t].id)}},r=0;r<n.length;r++)s(r);0===i.length?l=!0:(n=a.blocks.filter((function(e){return i.includes(e.parent)})),i=[])}for(var c=function(t){var n=a.blocks.filter((function(t){return t.parent===e}))[t];a.blocks=a.blocks.filter((function(e){return e.id!==n}))},d=0;d<a.blocks.filter((function(t){return t.parent===e})).length;d++)c(d);for(var u=function(e){var t=o[e];a.blocks=a.blocks.filter((function(e){return e.id!==t}))},p=0;p<o.length;p++)u(p);a.blocks.length>1&&a.rearrangeMe(),a.lastevent&&a.fixOffset(),a.dragblock=!1}(),a.active)a.drag.style.left=a.mouse_x-a.dragx+"px",a.drag.style.top=a.mouse_y-a.dragy+"px";else if(a.rearrange){a.drag.style.left=a.mouse_x-a.dragx-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+"px",a.drag.style.top=a.mouse_y-a.dragy-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop+"px";var t=a.blockstemp.filter((function(e){return e.id===parseInt(a.drag.querySelector(".blockid").value)}));t.x=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t.y=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).height)/2+a.canvas_div.scrollTop}(a.active||a.rearrange)&&function(){a.aclick=!1;for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){if(e>=a.blocks.filter((function(e){return e.id===n[l]}))[0].x-a.blocks.filter((function(e){return e.id===n[l]}))[0].width/2-a.paddingx&&e<=a.blocks.filter((function(e){return e.id===n[l]}))[0].x+a.blocks.filter((function(e){return e.id===n[l]}))[0].width/2+a.paddingx&&t>=a.blocks.filter((function(e){return e.id===n[l]}))[0].y-a.blocks.filter((function(e){return e.id===n[l]}))[0].height/2&&t<=a.blocks.filter((function(e){return e.id===n[l]}))[0].y+a.blocks.filter((function(e){return e.id===n[l]}))[0].height){a.link=!0;var i=document.querySelector(".indicator"),o=document.querySelector(".blockid[value='"+n[l]+"']");return o.parentNode.appendChild(i),i.style.left=parseInt(window.getComputedStyle(o.parentNode).width)/2-5+"px",i.style.top=window.getComputedStyle(o.parentNode).height+"px",i.classList.remove("invisible"),"break"}l===a.blocks.length-1?document.querySelector(".indicator").classList.contains("invisible")||document.querySelector(".indicator").classList.add("invisible"):a.link=!1},i=0;i<a.blocks.length;i++){if("break"===l(i))break}}()},a.fixOffset=function(){a.offsetleftold<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!1;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){var n=document.querySelector(".blockid[value='"+a.blocks.filter((function(a){return a.id===e[t]}))[0].id+"']");if(n.parentNode.style.left=a.blocks.filter((function(a){return a.id===e[t]}))[0].x-a.blocks.filter((function(a){return a.id===e[t]}))[0].width/2-a.offsetleftold-20+"px",a.blocks.filter((function(a){return a.id===e[t]}))[0].x=n.parentNode.getBoundingClientRect().left+a.blocks.filter((function(a){return a.id===e[t]}))[0].width/2,-1!==a.blocks.filter((function(a){return a.id===e[t]}))[0].parent){var l=a.blocks.filter((function(a){return a.id===e[t]}))[0];if(l.x-a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x<0)document.querySelector('.arrowid[value="'+e[t]+'"]').parentNode.style.left=l.x-5-a.canvas_div.getBoundingClientRect().left+"px";else document.querySelector('.arrowid[value="'+e[t]+'"]').parentNode.style.left=a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left+"px"}},n=0;n<a.blocks.length;n++)t(n);a.offsetleftold=0}()},a.startEdit=function(){a.editMode||(a.editMode=!0,a.setState({editMode:!0}),document.addEventListener("mousedown",a.touchblock,!1),document.addEventListener("touchstart",a.touchblock,!1),document.addEventListener("mouseup",a.touchblock,!1),document.addEventListener("mousedown",a.beginDrag),document.addEventListener("touchstart",a.beginDrag),document.addEventListener("mouseup",a.endDrag,!1),document.addEventListener("touchend",a.endDrag,!1),document.addEventListener("mousemove",a.moveBlock,!1),document.addEventListener("touchmove",a.moveBlock,!1))},a.exportData=function(){a.chartData=JSON.stringify(a.output()),localStorage.setItem("journey_1",a.chartData),a.deleteBlocks()},a.importData=function(){a.chartData=localStorage.getItem("journey_1"),a.chartData&&a.import(JSON.parse(a.chartData))},a.state={showSettings:!1,editMode:a.props.editMode},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=!1,a.blocks=[],a.blockstemp=[],a.canvas_div=void 0,a.active=!1,a.paddingx=0,a.paddingy=0,a.offsetleft=0,a.offsetleftold=0,a.rearrange=!1,a.lastevent=!1,a.dragx=0,a.dragy=0,a.original=null,a.drag=void 0,a.mouse_x=0,a.mouse_y=0,a.dragblock=!1,a.link=!1,a.canvasRef=l.a.createRef(),a.chartData="",a.aclick=!1,a.rightcard=!1,a.tempblock=void 0,a.editMode=a.props.editMode,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.flowy(this.canvasRef.current)}},{key:"flowy",value:function(e){this.load(e,20,60)}},{key:"blockReleased",value:function(){this.tempblock2&&this.tempblock2.classList.remove("blockdisabled")}},{key:"blockSnap",value:function(){var e=[{icon:me.a,title:"Enter Workflow",desc:"When a <span>New User</span> goes to <span>Site 1</span>"},{icon:be.a,title:"Action is performed",desc:"When <span>Action 1</span> is performed"},{icon:ke.a,title:"Time has passed",desc:"When <span>10 seconds</span> have passed"},{icon:je.a,title:"Exit Workflow",desc:"When <span>10 seconds</span> have passed"},{icon:Ee.a,title:"New database entry",desc:"Add <span>Data object</span> to <span>Database 1</span>"},{icon:Ee.a,title:"Update database",desc:"Update <span>Database 1</span>"},{icon:Se.a,title:"Perform an action",desc:"Perform <span>Action 1</span>"},{icon:xe.a,title:"Make a tweet",desc:"Tweet <span>Query 1</span> with the account <span>@twitter</span>"},{icon:Oe.a,title:"Add new log entry",desc:"Add new <span>success</span> log entry"},{icon:Oe.a,title:"Update logs",desc:"Edit <span>Log Entry 1</span>"},{icon:Be.a,title:"Prompt an error",desc:"Trigger <span>Exit</span>"}],t=this.drag.querySelector(".blockin");t.parentNode.removeChild(t);var a=Number(this.drag.querySelector(".blockelemtype").value),n="<div class='blockyleft'><img width='25' height='25' src="+e[a-1].icon+"><p class='blockyname'>"+e[a-1].title+"</p></div><div class='blockyright'><img src="+fe.a+"></div><div class='blockydiv'></div><div class='blockyinfo'>"+e[a-1].desc+"</div>";return this.drag.innerHTML+=n,!0}},{key:"load",value:function(e,t,a){if(!this.loaded){this.loaded=!0,this.blocks=[],this.blockstemp=[],this.canvas_div=e,this.active=!1,this.paddingx=t,this.paddingy=a,this.offsetleft=0,this.offsetleftold=0,this.rearrange=!1,this.lastevent=!1,this.dragx=0,this.dragy=0,this.original=void 0,this.drag=void 0,this.mouse_x=0,this.mouse_y=0,this.dragblock=!1;var n=document.createElement("DIV");n.classList.add("indicator"),n.classList.add("invisible"),this.canvas_div.appendChild(n),this.editMode&&this.startEdit()}}},{key:"render",value:function(){return l.a.createElement(f.a,{className:"full-height"},l.a.createElement(h.a,null,l.a.createElement(U.a,null,l.a.createElement(W.a,{grow:!1},l.a.createElement(J.a,{border:"none"},l.a.createElement(de.a,{iconType:"arrowLeft"},"Back"))),l.a.createElement(A.a,{breadcrumbs:this.breadcrumbs}),l.a.createElement(W.a,{side:"right",className:"content-center"},l.a.createElement(ue.a,{label:"Edit",fill:this.state.editMode,onChange:this.startEdit,isSelected:this.state.editMode,size:"s"}),l.a.createElement(L.a,{fill:!0,onClick:this.exportData,size:"s",color:"secondary",style:{marginLeft:10}},"Save"),l.a.createElement(L.a,{fill:!0,onClick:this.deleteBlocks,size:"s",color:"danger",style:{marginLeft:10,marginRight:10}},"Clear"))),l.a.createElement(R.a,{gutterSize:"none"},l.a.createElement(O.a,{grow:!1},this.state.editMode?l.a.createElement(it,null):null),l.a.createElement(O.a,null,l.a.createElement(j.a,{paddingSize:"none"},this.state.showSettings?l.a.createElement(He,{closeSettings:this.closeSettings}):null,l.a.createElement("div",{className:"canvas ".concat(this.state.editMode?"edit-bg":"view-bg"),ref:this.canvasRef}))))))}}]),t}(n.Component),st=function(e){var t=e.store;return l.a.createElement(c.a,{store:t},l.a.createElement(s.a,null,l.a.createElement(r.d,null,l.a.createElement(r.b,{path:"/login",render:function(e){return l.a.createElement(z,e)}}),l.a.createElement(ce,{exact:!0,path:"/"}),l.a.createElement(r.b,{path:"/sketchpad"},l.a.createElement(ot,{editMode:!1})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(660);var rt=a(89),ct=a(243),dt=Object(rt.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return[].concat(Object(ct.a)(e),[{userName:t.payload.userName}]);case"CREATE_JOURNEY":return e.map((function(e){return e.id===t.id?Object(q.a)({},e,{completed:!e.completed}):e}));case"VIEW_JOURNEY":default:return e}}));o.a.render(l.a.createElement(st,{store:dt}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[270,358,359]]]);
//# sourceMappingURL=main.b40689a9.chunk.js.map