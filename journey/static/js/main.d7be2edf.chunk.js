(this["webpackJsonpworkflow-management"]=this["webpackJsonpworkflow-management"]||[]).push([[357],{100:function(e,t,a){e.exports=a.p+"static/media/eye.02ac23d5.svg"},101:function(e,t,a){e.exports=a.p+"static/media/time.4919b690.svg"},102:function(e,t,a){e.exports=a.p+"static/media/twitter.445e7a17.svg"},103:function(e,t,a){e.exports=a.p+"static/media/eyeblue.bf79c107.svg"},104:function(e,t,a){e.exports=a.p+"static/media/actionblue.efaec303.svg"},105:function(e,t,a){e.exports=a.p+"static/media/timeblue.13d7ad9f.svg"},106:function(e,t,a){e.exports=a.p+"static/media/errorblue.4c64f451.svg"},107:function(e,t,a){e.exports=a.p+"static/media/twitterorange.e5d041df.svg"},108:function(e,t,a){e.exports=a.p+"static/media/actionorange.084a30c7.svg"},109:function(e,t,a){e.exports=a.p+"static/media/errorred.fd788c04.svg"},253:function(e,t,a){e.exports=a(627)},258:function(e,t,a){},259:function(e,t,a){},264:function(e,t,a){var n={"./accessibility.js":[633,0],"./aggregate.js":[634,1],"./alert.js":[635,2],"./annotation.js":[636,3],"./apm_trace.js":[637,4],"./app_add_data.js":[638,5],"./app_advanced_settings.js":[639,6],"./app_apm.js":[640,7],"./app_auditbeat.js":[641,8],"./app_canvas.js":[642,9],"./app_code.js":[643,10],"./app_console.js":[644,11],"./app_cross_cluster_replication.js":[645,12],"./app_dashboard.js":[646,13],"./app_devtools.js":[647,14],"./app_discover.js":[648,15],"./app_ems.js":[649,16],"./app_filebeat.js":[650,17],"./app_gis.js":[651,18],"./app_graph.js":[652,19],"./app_grok.js":[653,20],"./app_heartbeat.js":[654,21],"./app_index_management.js":[655,22],"./app_index_pattern.js":[656,23],"./app_index_rollup.js":[657,24],"./app_lens.js":[658,25],"./app_logs.js":[659,26],"./app_management.js":[660,27],"./app_metricbeat.js":[661,28],"./app_metrics.js":[662,29],"./app_ml.js":[663,30],"./app_monitoring.js":[664,31],"./app_notebook.js":[665,32],"./app_packetbeat.js":[666,33],"./app_pipeline.js":[667,34],"./app_recently_viewed.js":[668,35],"./app_reporting.js":[669,36],"./app_saved_objects.js":[670,37],"./app_search_profiler.js":[671,38],"./app_security.js":[672,39],"./app_security_analytics.js":[673,40],"./app_spaces.js":[674,41],"./app_sql.js":[675,42],"./app_timelion.js":[676,43],"./app_upgrade_assistant.js":[677,44],"./app_uptime.js":[678,45],"./app_users_roles.js":[679,46],"./app_visualize.js":[680,47],"./app_watches.js":[681,48],"./apps.js":[682,49],"./arrow_down.js":[683,50],"./arrow_left.js":[684,51],"./arrow_right.js":[685,52],"./arrow_up.js":[686,53],"./asterisk.js":[687,54],"./beaker.js":[688,55],"./bell.js":[689,56],"./bellSlash.js":[690,57],"./bolt.js":[691,58],"./boxes_horizontal.js":[692,59],"./boxes_vertical.js":[693,60],"./branch.js":[694,61],"./broom.js":[695,62],"./brush.js":[696,63],"./bug.js":[697,64],"./bullseye.js":[698,65],"./calendar.js":[699,66],"./check.js":[700,67],"./checkInCircleFilled.js":[701,68],"./clock.js":[702,69],"./cloudDrizzle.js":[703,70],"./cloudStormy.js":[704,71],"./cloudSunny.js":[705,72],"./compute.js":[706,73],"./console.js":[707,74],"./controls_horizontal.js":[708,75],"./controls_vertical.js":[709,76],"./copy.js":[710,77],"./copy_clipboard.js":[711,78],"./cross.js":[712,79],"./crossInACircleFilled.js":[713,80],"./crosshairs.js":[714,81],"./currency.js":[715,82],"./cut.js":[716,83],"./database.js":[717,84],"./document.js":[718,85],"./documentEdit.js":[719,86],"./documents.js":[720,87],"./dot.js":[721,88],"./editorDistributeHorizontal.js":[722,89],"./editorDistributeVertical.js":[723,90],"./editorItemAlignBottom.js":[724,91],"./editorItemAlignCenter.js":[725,92],"./editorItemAlignLeft.js":[726,93],"./editorItemAlignMiddle.js":[727,94],"./editorItemAlignRight.js":[728,95],"./editorItemAlignTop.js":[729,96],"./editorPositionBottomLeft.js":[730,97],"./editorPositionBottomRight.js":[731,98],"./editorPositionTopLeft.js":[732,99],"./editorPositionTopRight.js":[733,100],"./editor_align_center.js":[734,101],"./editor_align_left.js":[735,102],"./editor_align_right.js":[736,103],"./editor_bold.js":[737,104],"./editor_code_block.js":[738,105],"./editor_comment.js":[739,106],"./editor_heading.js":[740,107],"./editor_italic.js":[741,108],"./editor_link.js":[742,109],"./editor_ordered_list.js":[743,110],"./editor_redo.js":[744,111],"./editor_strike.js":[745,112],"./editor_table.js":[746,113],"./editor_underline.js":[747,114],"./editor_undo.js":[748,115],"./editor_unordered_list.js":[749,116],"./email.js":[750,117],"./empty.js":[96],"./exit.js":[751,118],"./expand.js":[752,119],"./expandMini.js":[753,120],"./export.js":[754,121],"./eye.js":[755,122],"./eye_closed.js":[756,123],"./faceNeutral.js":[757,124],"./face_happy.js":[758,125],"./face_neutral.js":[759,126],"./face_sad.js":[760,127],"./filter.js":[761,128],"./flag.js":[762,129],"./folder_closed.js":[763,130],"./folder_open.js":[764,131],"./full_screen.js":[765,132],"./gear.js":[766,133],"./glasses.js":[767,134],"./globe.js":[768,135],"./grab.js":[769,136],"./grab_horizontal.js":[770,137],"./grid.js":[771,138],"./heart.js":[772,139],"./heatmap.js":[773,140],"./help.js":[774,141],"./iInCircle.js":[775,142],"./import.js":[776,143],"./index_close.js":[777,144],"./index_edit.js":[778,145],"./index_flush.js":[779,146],"./index_mapping.js":[780,147],"./index_open.js":[781,148],"./index_settings.js":[782,149],"./inputOutput.js":[783,150],"./inspect.js":[784,151],"./invert.js":[785,152],"./ip.js":[786,153],"./keyboard_shortcut.js":[787,154],"./kql_field.js":[788,155],"./kql_function.js":[789,156],"./kql_operand.js":[790,157],"./kql_selector.js":[791,158],"./kql_value.js":[792,159],"./link.js":[793,160],"./list.js":[794,161],"./list_add.js":[795,162],"./lock.js":[796,163],"./lockOpen.js":[797,164],"./logo_aerospike.js":[798,165],"./logo_apache.js":[799,166],"./logo_apm.js":[800,167],"./logo_app_search.js":[801,168],"./logo_aws.js":[802,169],"./logo_aws_mono.js":[803,170],"./logo_azure.js":[804,171],"./logo_azure_mono.js":[805,172],"./logo_beats.js":[806,173],"./logo_business_analytics.js":[807,174],"./logo_ceph.js":[808,360],"./logo_cloud.js":[809,175],"./logo_cloud_ece.js":[810,176],"./logo_code.js":[811,177],"./logo_codesandbox.js":[812,178],"./logo_couchbase.js":[813,179],"./logo_docker.js":[814,180],"./logo_dropwizard.js":[815,181],"./logo_elastic.js":[816,182],"./logo_elastic_stack.js":[817,183],"./logo_elasticsearch.js":[818,184],"./logo_enterprise_search.js":[819,185],"./logo_etcd.js":[820,186],"./logo_gcp.js":[821,187],"./logo_gcp_mono.js":[822,188],"./logo_github.js":[823,189],"./logo_gmail.js":[824,190],"./logo_golang.js":[825,361],"./logo_haproxy.js":[826,362],"./logo_ibm.js":[827,191],"./logo_ibm_mono.js":[828,192],"./logo_kafka.js":[829,193],"./logo_kibana.js":[830,194],"./logo_kubernetes.js":[831,195],"./logo_logging.js":[832,196],"./logo_logstash.js":[833,197],"./logo_maps.js":[834,198],"./logo_memcached.js":[835,199],"./logo_metrics.js":[836,200],"./logo_mongodb.js":[837,201],"./logo_mysql.js":[838,202],"./logo_nginx.js":[839,203],"./logo_observability.js":[840,204],"./logo_osquery.js":[841,205],"./logo_php.js":[842,206],"./logo_postgres.js":[843,207],"./logo_prometheus.js":[844,208],"./logo_rabbitmq.js":[845,209],"./logo_redis.js":[846,210],"./logo_security.js":[847,211],"./logo_site_search.js":[848,212],"./logo_sketch.js":[849,213],"./logo_slack.js":[850,214],"./logo_uptime.js":[851,215],"./logo_webhook.js":[852,216],"./logo_windows.js":[853,217],"./logo_workplace_search.js":[854,218],"./logstash_filter.js":[855,219],"./logstash_if.js":[856,220],"./logstash_input.js":[857,221],"./logstash_output.js":[858,222],"./logstash_queue.js":[859,223],"./magnet.js":[860,224],"./magnifyWithMinus.js":[861,225],"./magnifyWithPlus.js":[862,226],"./map_marker.js":[863,227],"./memory.js":[864,228],"./menuLeft.js":[865,229],"./menuRight.js":[866,230],"./merge.js":[867,231],"./minimize.js":[868,232],"./minus_in_circle.js":[869,233],"./minus_in_circle_filled.js":[870,234],"./ml_create_advanced_job.js":[871,235],"./ml_create_multi_metric_job.js":[872,236],"./ml_create_population_job.js":[873,237],"./ml_create_single_metric_job.js":[874,238],"./ml_data_visualizer.js":[875,239],"./moon.js":[876,240],"./nested.js":[877,241],"./node.js":[878,242],"./number.js":[879,243],"./offline.js":[880,244],"./online.js":[881,245],"./package.js":[882,246],"./pageSelect.js":[883,247],"./pagesSelect.js":[884,248],"./paint.js":[885,249],"./partial.js":[886,250],"./pause.js":[887,251],"./pencil.js":[888,252],"./pin.js":[889,253],"./pin_filled.js":[890,254],"./play.js":[891,255],"./plus_in_circle.js":[892,256],"./plus_in_circle_filled.js":[893,257],"./popout.js":[894,258],"./question_in_circle.js":[895,259],"./refresh.js":[896,260],"./save.js":[897,261],"./scale.js":[898,262],"./search.js":[899,263],"./securitySignal.js":[900,264],"./securitySignalDetected.js":[901,265],"./securitySignalResolved.js":[902,266],"./shard.js":[903,267],"./share.js":[904,268],"./snowflake.js":[905,269],"./sortLeft.js":[906,270],"./sortRight.js":[907,271],"./sort_down.js":[908,272],"./sort_up.js":[909,273],"./sortable.js":[910,274],"./starPlusEmpty.js":[911,275],"./starPlusFilled.js":[912,276],"./star_empty.js":[913,277],"./star_empty_space.js":[914,278],"./star_filled.js":[915,279],"./star_filled_space.js":[916,280],"./star_minus_empty.js":[917,281],"./star_minus_filled.js":[918,282],"./stats.js":[919,283],"./stop.js":[920,284],"./stop_filled.js":[921,285],"./stop_slash.js":[922,286],"./storage.js":[923,287],"./string.js":[924,288],"./submodule.js":[925,289],"./swatch_input.js":[926,290],"./symlink.js":[927,291],"./tableOfContents.js":[928,292],"./table_density_compact.js":[929,293],"./table_density_expanded.js":[930,294],"./table_density_normal.js":[931,295],"./tag.js":[932,296],"./tear.js":[933,297],"./temperature.js":[934,298],"./timeline.js":[935,299],"./tokens/tokenAnnotation.js":[936,300],"./tokens/tokenArray.js":[937,301],"./tokens/tokenBoolean.js":[938,302],"./tokens/tokenClass.js":[939,303],"./tokens/tokenConstant.js":[940,304],"./tokens/tokenElement.js":[941,305],"./tokens/tokenEnum.js":[942,306],"./tokens/tokenEnumMember.js":[943,307],"./tokens/tokenEvent.js":[944,308],"./tokens/tokenException.js":[945,309],"./tokens/tokenField.js":[946,310],"./tokens/tokenFile.js":[947,311],"./tokens/tokenFunction.js":[948,312],"./tokens/tokenInterface.js":[949,313],"./tokens/tokenKey.js":[950,314],"./tokens/tokenMethod.js":[951,315],"./tokens/tokenModule.js":[952,316],"./tokens/tokenNamespace.js":[953,317],"./tokens/tokenNull.js":[954,318],"./tokens/tokenNumber.js":[955,319],"./tokens/tokenObject.js":[956,320],"./tokens/tokenOperator.js":[957,321],"./tokens/tokenPackage.js":[958,322],"./tokens/tokenParameter.js":[959,323],"./tokens/tokenProperty.js":[960,324],"./tokens/tokenRepo.js":[961,325],"./tokens/tokenString.js":[962,326],"./tokens/tokenStruct.js":[963,327],"./tokens/tokenSymbol.js":[964,328],"./tokens/tokenVariable.js":[965,329],"./training.js":[966,330],"./trash.js":[967,331],"./user.js":[968,332],"./vector.js":[969,333],"./videoPlayer.js":[970,334],"./vis_area.js":[971,335],"./vis_area_stacked.js":[972,336],"./vis_bar_horizontal.js":[973,337],"./vis_bar_horizontal_stacked.js":[974,338],"./vis_bar_vertical.js":[975,339],"./vis_bar_vertical_stacked.js":[976,340],"./vis_controls.js":[977,341],"./vis_gauge.js":[978,342],"./vis_goal.js":[979,343],"./vis_heatmap.js":[980,344],"./vis_line.js":[981,345],"./vis_map_coordinate.js":[982,346],"./vis_map_region.js":[983,347],"./vis_metric.js":[984,348],"./vis_pie.js":[985,349],"./vis_table.js":[986,350],"./vis_tag_cloud.js":[987,351],"./vis_text.js":[988,352],"./vis_timelion.js":[989,353],"./vis_vega.js":[990,354],"./vis_visual_builder.js":[991,355],"./wrench.js":[992,356]};function o(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(o)}))}o.keys=function(){return Object.keys(n)},o.id=264,e.exports=o},400:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/action.96102495.svg"},62:function(e,t,a){e.exports=a.p+"static/media/error.987d37d2.svg"},627:function(e,t,a){"use strict";a.r(t);var n,o,l,s,i,c,r,d,p,u,m=a(0),f=a.n(m),g=a(18),h=a.n(g),b=(a(258),a(259),a(150)),v=a(44),k=a(12),j=a(13),_=a(15),y=a(14),E=a(16),w=a(1054),x=a(1078),C=a(1039),T=a(68),N=a(1055),R=a(1056),S=a(1057),O=a(1058),B=a(1059),L=a(1062),M=a(1047),D=a(1048),z=a(1063),I=a(1064),P=a(1065),A=a(220),F=a(1066),W=a(209),U=a(1076),J=a(1081),q=a(1043),H=a(1044),Y=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=f.a.createElement(C.a,{"aria-controls":"keyPadMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},f.a.createElement(T.a,{type:"apps",size:"m"}));return f.a.createElement(J.a,{id:"headerAppMenu",ownFocus:!0,button:e,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu},f.a.createElement(q.a,{id:"keyPadMenu",style:{width:288}},f.a.createElement(H.a,{label:"Discover",href:"#"},f.a.createElement(T.a,{type:"discoverApp",size:"l"})),f.a.createElement(H.a,{label:"Dashboard",href:"#"},f.a.createElement(T.a,{type:"dashboardApp",size:"l"})),f.a.createElement(H.a,{label:"Dev Tools",href:"#"},f.a.createElement(T.a,{type:"devToolsApp",size:"l"})),f.a.createElement(H.a,{label:"Machine Learning",href:"#"},f.a.createElement(T.a,{type:"machineLearningApp",size:"l"})),f.a.createElement(H.a,{label:"Graph",href:"#"},f.a.createElement(T.a,{type:"graphApp",size:"l"})),f.a.createElement(H.a,{label:"Visualize",href:"#"},f.a.createElement(T.a,{type:"visualizeApp",size:"l"})),f.a.createElement(H.a,{label:"Timelion",href:"#"},f.a.createElement(T.a,{type:"timelionApp",size:"l"}))))}}]),t}(m.Component),V=a(1045),G=a(1046),X=a(1049),Z=a(1050),K=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=f.a.createElement(C.a,{"aria-controls":"headerUserMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Account menu",onClick:this.onMenuButtonClick},f.a.createElement(V.a,{name:"John Smith",size:"s"}),f.a.createElement(G.a,{className:"euiHeaderNotification"},"3"));return f.a.createElement(J.a,{id:"headerUserMenu",ownFocus:!0,button:t,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu,panelPaddingSize:"none"},f.a.createElement("div",{style:{width:320}},f.a.createElement(M.a,{gutterSize:"m",className:"euiHeaderProfile",responsive:!1},f.a.createElement(D.a,{grow:!1},f.a.createElement(V.a,{name:"John Smith",size:"xl"})),f.a.createElement(D.a,null,f.a.createElement(U.a,null,f.a.createElement("p",null,"John Smith")),f.a.createElement(X.a,{size:"m"}),f.a.createElement(M.a,null,f.a.createElement(D.a,null,f.a.createElement(M.a,{justifyContent:"spaceBetween"},f.a.createElement(D.a,{grow:!1},f.a.createElement(Z.a,{href:""},"Edit profile")),f.a.createElement(D.a,{grow:!1},f.a.createElement(Z.a,{onClick:function(){return e.props.onLogoutClick()}},"Log out")))))))))}}]),t}(m.Component),Q=a(1073),$=a(1052),ee=a(1053),te=a(95),ae=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).isListExtended=function(){return a.state.spaces.length>4},a.onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closePopover=function(){a.setState({isOpen:!1})},a.onChange=function(e){a.setState({spaces:e,selectedSpace:e.filter((function(e){return e.checked}))[0],isOpen:!1})},a.addMoreSpaces=function(){a.setState({spaces:a.spaces.concat(a.additionalSpaces)})},a.spaces=[{label:"Sales team",prepend:f.a.createElement(V.a,{type:"space",name:"Sales Team",size:"s"}),checked:"on"},{label:"Engineering",prepend:f.a.createElement(V.a,{type:"space",name:"Engineering",size:"s"})},{label:"Security",prepend:f.a.createElement(V.a,{type:"space",name:"Security",size:"s"})},{label:"Default",prepend:f.a.createElement(V.a,{type:"space",name:"Default",size:"s"})}],a.additionalSpaces=[{label:"Sales team 2",prepend:f.a.createElement(V.a,{type:"space",name:"Sales Team 2",size:"s"})},{label:"Engineering 2",prepend:f.a.createElement(V.a,{type:"space",name:"Engineering 2",size:"s"})},{label:"Security 2",prepend:f.a.createElement(V.a,{type:"space",name:"Security 2",size:"s"})},{label:"Default 2",prepend:f.a.createElement(V.a,{type:"space",name:"Default 2",size:"s"})}],a.state={spaces:a.spaces,selectedSpace:a.spaces.filter((function(e){return e.checked}))[0],isOpen:!1},a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedSpace,n=t.isOpen,o=t.spaces,l=f.a.createElement(C.a,{"aria-controls":"headerSpacesMenuList","aria-expanded":n,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},a.prepend);return f.a.createElement(J.a,{id:"headerSpacesMenu",ownFocus:!0,button:l,isOpen:n,anchorPosition:"downLeft",closePopover:this.closePopover,panelPaddingSize:"none"},f.a.createElement(Q.a,{searchable:this.isListExtended(),searchProps:{placeholder:"Find a space",compressed:!0},options:o,singleSelection:"always",style:{width:300},onChange:this.onChange,listProps:{rowHeight:40,showIcons:!1}},(function(t,a){return f.a.createElement(te.Fragment,null,f.a.createElement($.a,null,a||"Your spaces"),t,f.a.createElement(ee.a,null,f.a.createElement(A.a,{size:"s",fullWidth:!0,onClick:e.addMoreSpaces,disabled:e.isListExtended()},"Add more spaces")))})))}}]),t}(m.Component),ne=a(1060),oe=a(1061),le=a(43),se=Object(le.b)("journeyStore")(n=Object(le.c)(n=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).handleLogout=function(e){console.log("logout-click-state-lift")},a.openSketchPad=function(e,t){var n=a.props.journeyStore,o=n.setJourneyEdit,l=n.setEditMode;t&&l(!0),o(!0)},a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.journeyStore.getExistingJourneys)()}},{key:"renderLogo",value:function(){return f.a.createElement(w.a,{iconType:"logoKibana",href:"#","aria-label":"Go to home page"})}},{key:"renderBreadcrumbs",value:function(){var e=[{text:"Management",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked management")},"data-test-subj":"breadcrumbsAnimals",className:"customClass"},{text:"Truncation test is here for a really long item",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked truncation test")}},{text:"hidden",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked hidden")}},{text:"Users",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked users")}},{text:"Create"}];return f.a.createElement(x.a,{breadcrumbs:e})}},{key:"renderSearch",value:function(){return f.a.createElement(C.a,{"aria-label":"Search"},f.a.createElement(T.a,{type:"search",size:"m"}))}},{key:"render",value:function(){var e=this,t=this.props.journeyStore,a=t.editJourney,n=t.journeyList;return a?f.a.createElement(v.a,{to:"/sketchpad"}):f.a.createElement(m.Fragment,null,f.a.createElement(N.a,null,f.a.createElement(R.a,{grow:!1},f.a.createElement(S.a,{border:"right"},this.renderLogo()),f.a.createElement(S.a,{border:"right"},f.a.createElement(ae,null))),this.renderBreadcrumbs(),f.a.createElement(R.a,{side:"right"},f.a.createElement(S.a,null,this.renderSearch()),f.a.createElement(S.a,null,f.a.createElement(K,{onLogoutClick:this.handleLogout})),f.a.createElement(S.a,null,f.a.createElement(Y,null)))),f.a.createElement(O.a,null,f.a.createElement(B.a,null,f.a.createElement(ne.a,null,f.a.createElement(oe.a,null,f.a.createElement(L.a,{size:"l"},f.a.createElement("h1",null,"Journeys")))),f.a.createElement(M.a,null,f.a.createElement(D.a,null,f.a.createElement(z.a,null,f.a.createElement(I.a,null,f.a.createElement(P.a,null,f.a.createElement(A.a,{fill:!0,onClick:function(t){e.openSketchPad(t,!0)}},"Create Journey"))),f.a.createElement(F.a,null,n.map((function(t){return f.a.createElement(W.a,{paddingSize:"m",hasShadow:!0,style:{marginBottom:10},key:t.id},f.a.createElement(M.a,{justifyContent:"spaceBetween"},f.a.createElement(D.a,null,f.a.createElement(U.a,null,t.displayLabel)),f.a.createElement(D.a,{grow:!1},f.a.createElement(A.a,{color:"secondary",fill:!0,size:"s",onClick:e.openSketchPad},"View"))))})))))))))}}]),t}(f.a.Component))||n)||n,ie=a(228),ce=a(1071),re=a(1080),de=(a(400),a(78)),pe=a(224),ue=a(1067),me=a(1068),fe=a(226),ge=a(1069),he=a(1082),be=a(1075),ve=a(1077),ke=a(1070),je=a(1079),_e=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).options=void 0,a.state={value:"option_one"},a.onChange=function(e){a.setState({value:e})},a.options=[{value:"option_one",inputDisplay:"Option one",dropdownDisplay:f.a.createElement(m.Fragment,null,f.a.createElement("strong",null,"Option one"),f.a.createElement(U.a,{size:"s",color:"subdued"},f.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_two",inputDisplay:"Option two",dropdownDisplay:f.a.createElement(m.Fragment,null,f.a.createElement("strong",null,"Option two"),f.a.createElement(U.a,{size:"s",color:"subdued"},f.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_three",inputDisplay:"Option three",dropdownDisplay:f.a.createElement(m.Fragment,null,f.a.createElement("strong",null,"Option three"),f.a.createElement(U.a,{size:"s",color:"subdued"},f.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))}],a.state={value:"option_one"},a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return f.a.createElement(je.a,{options:this.options,valueOfSelected:this.state.value,onChange:this.onChange,itemLayoutAlign:"top",hasDividers:!0})}}]),t}(m.Component),ye=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).tabs=void 0,a.state={isFlyoutVisible:!1,isSwitchChecked:!0,selectedTabId:"1",isPopoverOpen:!1},a.onSwitchChange=function(){a.setState({isSwitchChecked:!a.state.isSwitchChecked})},a.closePopover=function(){a.setState({isPopoverOpen:!1})},a.togglePopover=function(){a.setState((function(e){return{isPopoverOpen:!e.isPopoverOpen}}))},a.onSelectedTabChanged=function(e){a.setState({selectedTabId:e})},a.state={isFlyoutVisible:!1,isSwitchChecked:!0,selectedTabId:"1",isPopoverOpen:!1},a.tabs=[{id:"1",name:"Tab 1"},{id:"2",name:"Tab 2"}],a.closeFlyout=a.closeFlyout.bind(Object(de.a)(a)),a.showFlyout=a.showFlyout.bind(Object(de.a)(a)),a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"closeFlyout",value:function(){this.setState({isFlyoutVisible:!1})}},{key:"showFlyout",value:function(){this.setState({isFlyoutVisible:!0})}},{key:"renderTabs",value:function(){var e=this;return this.tabs.map((function(t,a){return f.a.createElement(pe.a,{onClick:function(){return e.onSelectedTabChanged(t.id)},isSelected:t.id===e.state.selectedTabId,key:a},t.name)}))}},{key:"render",value:function(){var e=f.a.createElement(U.a,null,f.a.createElement("p",null,"Far out in the uncharted backwaters of the unfashionable end of the western spiral arm of the Galaxy lies a small unregarded yellow sun."),f.a.createElement("p",null,"Orbiting this at a distance of roughly ninety-two million miles is an utterly insignificant little blue green planet whose ape- descended life forms are so amazingly primitive that they still think digital watches are a pretty neat idea."),f.a.createElement("ul",null,f.a.createElement("li",null,"List item one"),f.a.createElement("li",null,"List item two"),f.a.createElement("li",null,"Dolphins")),f.a.createElement("p",null,"This planet has - or rather had - a problem, which was this: most of the people living on it were unhappy for pretty much of the time. Many solutions were suggested for this problem, but most of these were largely concerned with the movements of small green pieces of paper, which is odd because on the whole it was not the small green pieces of paper that were unhappy."),f.a.createElement("h2",null,"This is Heading Two"),f.a.createElement("ol",null,f.a.createElement("li",null,"Number one"),f.a.createElement("li",null,"Number two"),f.a.createElement("li",null,"Dolphins again")),f.a.createElement("p",null,"But the dog wasn\u2019t lazy, it was just practicing mindfulness, so it had a greater sense of life-satisfaction than that fox with all its silly jumping."),f.a.createElement("p",null,"And from the fox\u2019s perspective, life was full of hoops to jump"," ",f.a.createElement("em",null,"through"),", low-hanging fruit to jump ",f.a.createElement("em",null,"for"),", and dead car batteries to jump-",f.a.createElement("em",null,"start"),"."),f.a.createElement("h3",null,"This is Heading Three"),f.a.createElement("p",null,"So it thought the dog was making a poor life choice by focusing so much on mindfulness. What if its car broke down?")),t=this.props.closeSettings;return f.a.createElement(ue.a,{onClose:this.closeFlyout,hideCloseButton:!0,"aria-labelledby":"flyoutComplicatedTitle"},f.a.createElement(me.a,{hasBorder:!0},f.a.createElement(L.a,{size:"m"},f.a.createElement("h2",{id:"flyoutComplicatedTitle"},"Flyout header")),f.a.createElement(X.a,{size:"s"}),f.a.createElement(U.a,{color:"subdued"},f.a.createElement("p",null,"Put navigation items in the header, and cross tab actions in a footer.")),f.a.createElement(fe.a,{style:{marginBottom:"-25px"}},this.renderTabs())),f.a.createElement(ge.a,null,f.a.createElement(J.a,{closePopover:this.closePopover,button:f.a.createElement(A.a,{onClick:this.togglePopover},"Even popovers can be included"),isOpen:this.state.isPopoverOpen},f.a.createElement("p",null,"This is the popover content, notice how it can overflow the flyout!")),f.a.createElement(X.a,{size:"m"}),f.a.createElement(he.a,null,f.a.createElement(be.a,{label:"A SuperSelect field"},f.a.createElement(_e,null))),f.a.createElement(X.a,null),e,f.a.createElement(ve.a,{language:"html"},"\x3c!--I'm an example of HTML--\x3e\n                    <div>\n                    asdf\n                    </div>\n                    ")),f.a.createElement(ke.a,null,f.a.createElement(M.a,{justifyContent:"spaceBetween"},f.a.createElement(D.a,{grow:!1},f.a.createElement(ce.a,{iconType:"cross",onClick:t,flush:"left"},"Close")),f.a.createElement(D.a,{grow:!1},f.a.createElement(A.a,{onClick:this.closeFlyout,fill:!0},"Save")))))}}]),t}(m.Component),Ee=a(1072),we=a(100),xe=a.n(we),Ce=a(61),Te=a.n(Ce),Ne=a(101),Re=a.n(Ne),Se=a(62),Oe=a.n(Se),Be=a(63),Le=a.n(Be),Me=a(102),De=a.n(Me),ze=a(64),Ie=a.n(ze),Pe=[{id:"triggers",name:"Triggers",content:f.a.createElement("div",{className:"blocklist"},f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"1"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:xe.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Enter Workflow"),f.a.createElement("p",{className:"blockdesc"},"Triggers when somebody visits a specified page")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"2"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Te.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Event occurred"),f.a.createElement("p",{className:"blockdesc"},"Triggers when somebody performs a specified action")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"3"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Re.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Time has passed"),f.a.createElement("p",{className:"blockdesc"},"Triggers after a specified amount of time")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"4"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Oe.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Exit Workflow"),f.a.createElement("p",{className:"blockdesc"},"Triggers when a specified error happens")))))},{id:"actions",name:"Actions",content:f.a.createElement("div",{className:"blocklist"},f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"5"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Le.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"New database entry"),f.a.createElement("p",{className:"blockdesc"},"Adds a new entry to a specified database")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"6"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Le.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Update database"),f.a.createElement("p",{className:"blockdesc"},"Edits and deletes database entries and properties")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"7"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Te.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Perform an action"),f.a.createElement("p",{className:"blockdesc"},"Performs or edits a specified action")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"8"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:De.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Make a tweet"),f.a.createElement("p",{className:"blockdesc"},"Makes a tweet with a specified query")))))},{id:"loggers",name:"Loggers",content:f.a.createElement("div",{className:"blocklist"},f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"9"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Ie.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Add new log entry"),f.a.createElement("p",{className:"blockdesc"},"Adds a new log entry to this project")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"10"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Ie.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Update logs"),f.a.createElement("p",{className:"blockdesc"},"Edits and deletes log entries in this project")))),f.a.createElement("div",{className:"blockelem create-flowy noselect"},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"11"}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Oe.a,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},"Prompt an error"),f.a.createElement("p",{className:"blockdesc"},"Triggers a specified error")))))}],Ae=function(){return f.a.createElement(Ee.a,{tabs:Pe,initialSelectedTab:Pe[0],onTabClick:function(e){},expand:!0,size:"s"})},Fe=[{icon:xe.a,title:"Enter Workflow",desc:"Triggers when somebody visits a specified page"},{icon:Te.a,title:"Event occurred",desc:"Triggers when somebody performs a specified action"},{icon:Re.a,title:"Time has passed",desc:"Triggers after a specified amount of time"},{icon:Oe.a,title:"Exit Workflow",desc:"Triggers when a specified error happens"},{icon:Le.a,title:"New database entry",desc:"Adds a new entry to a specified database"},{icon:Le.a,title:"Update database",desc:"Edits and deletes database entries and properties"},{icon:Te.a,title:"Perform an action",desc:"Performs or edits a specified action"},{icon:De.a,title:"Make a tweet",desc:"Makes a tweet with a specified query"},{icon:Ie.a,title:"Add new log entry",desc:"Adds a new log entry to this project"},{icon:Ie.a,title:"Update logs",desc:"Edits and deletes log entries in this project"},{icon:Oe.a,title:"Prompt an error",desc:"Triggers a specified error"}],We=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).dragRef=void 0,a.dragRef=f.a.createRef(),a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setDragRef)(this.dragRef.current)}},{key:"componentWillUnmount",value:function(){(0,this.props.setDragRef)(null)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id;return f.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:t,top:a},ref:this.dragRef},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),f.a.createElement("div",{className:"blockin"},f.a.createElement("div",{className:"blockico"},f.a.createElement("span",null),f.a.createElement("img",{src:Fe[n-1].icon,alt:""})),f.a.createElement("div",{className:"blocktext"},f.a.createElement("p",{className:"blocktitle"},Fe[n-1].title),f.a.createElement("p",{className:"blockdesc"},Fe[n-1].desc))),f.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}))}}]),t}(m.Component),Ue=a(103),Je=a.n(Ue),qe=a(104),He=a.n(qe),Ye=a(105),Ve=a.n(Ye),Ge=a(106),Xe=a.n(Ge),Ze=a(65),Ke=a.n(Ze),Qe=a(107),$e=a.n(Qe),et=a(108),tt=a.n(et),at=a(66),nt=a.n(at),ot=a(109),lt=a.n(ot),st=[{icon:Je.a,title:"Enter Workflow",desc:"When a <span>New User</span> goes to <span>Site 1</span>"},{icon:He.a,title:"Event occurred",desc:"When <span>Action 1</span> is performed"},{icon:Ve.a,title:"Time has passed",desc:"When <span>10 seconds</span> have passed"},{icon:Xe.a,title:"Exit Workflow",desc:"When <span>10 seconds</span> have passed"},{icon:Ke.a,title:"New database entry",desc:"Add <span>Data object</span> to <span>Database 1</span>"},{icon:Ke.a,title:"Update database",desc:"Update <span>Database 1</span>"},{icon:tt.a,title:"Perform an action",desc:"Perform <span>Action 1</span>"},{icon:$e.a,title:"Make a tweet",desc:"Tweet <span>Query 1</span> with the account <span>@twitter</span>"},{icon:nt.a,title:"Add new log entry",desc:"Add new <span>success</span> log entry"},{icon:nt.a,title:"Update logs",desc:"Edit <span>Log Entry 1</span>"},{icon:lt.a,title:"Prompt an error",desc:"Trigger <span>Exit</span>"}],it={left:{top:"50%",left:"0%"},top:{top:"0%",left:"50%"},right:{top:"50%",left:"100%"},bottom:{top:"100%",left:"50%"}},ct=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).flowRef=void 0,a.deleteFlow=function(e){e.stopPropagation();var t=a.props,n=t.id;(0,t.deleteBlock)(n)},a.flowRef=f.a.createRef(),a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setFlowRef)(e.id,this.flowRef.current)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id,l=e.link,s=e.openConfigurator;return f.a.createElement("div",{className:"blockelem noselect block",style:{left:t,top:a},ref:this.flowRef},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),f.a.createElement("div",{className:"blockyleft",onClick:s},f.a.createElement("img",{width:"25",height:"25",src:st[n-1].icon,alt:""}),f.a.createElement("p",{className:"blockyname"},st[n-1].title),f.a.createElement(T.a,{type:"cross",size:"s",className:"delete-icon",onClick:this.deleteFlow})),f.a.createElement("div",{className:"blockydiv"}),f.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:st[n-1].desc}}),f.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}),f.a.createElement("div",{className:"indicator ".concat(l.show?"":"invisible"),style:it[l.position]}))}}]),t}(m.Component),rt=function(e){function t(){return Object(k.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.path1,n=e.path2,o=e.left,l=e.top;return f.a.createElement("div",{className:"arrowblock",style:{left:o,top:l}},f.a.createElement("input",{type:"hidden",className:"arrowid",value:t}),f.a.createElement("svg",{preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.a.createElement("path",{d:a,stroke:"#C5CCD0",strokeWidth:"2px"}),f.a.createElement("path",{d:n,fill:"#C5CCD0"})))}}]),t}(m.Component),dt=[{icon:Je.a,title:"Enter Workflow",desc:"When a <span>New User</span> goes to <span>Site 1</span>"},{icon:He.a,title:"Event occurred",desc:"When <span>Action 1</span> is performed"},{icon:Ve.a,title:"Time has passed",desc:"When <span>10 seconds</span> have passed"},{icon:Xe.a,title:"Exit Workflow",desc:"When <span>10 seconds</span> have passed"},{icon:Ke.a,title:"New database entry",desc:"Add <span>Data object</span> to <span>Database 1</span>"},{icon:Ke.a,title:"Update database",desc:"Update <span>Database 1</span>"},{icon:tt.a,title:"Perform an action",desc:"Perform <span>Action 1</span>"},{icon:$e.a,title:"Make a tweet",desc:"Tweet <span>Query 1</span> with the account <span>@twitter</span>"},{icon:nt.a,title:"Add new log entry",desc:"Add new <span>success</span> log entry"},{icon:nt.a,title:"Update logs",desc:"Edit <span>Log Entry 1</span>"},{icon:lt.a,title:"Prompt an error",desc:"Trigger <span>Exit</span>"}],pt=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).tempRef=void 0,a.tempRef=f.a.createRef(),a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setTempRef,a={};a[e.id]=this.tempRef.current,t(a)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id,l=e.blocksTemp,s=e.arrowsTemp;return f.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:t,top:a},ref:this.tempRef},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),f.a.createElement("div",{className:"blockyleft"},f.a.createElement("img",{width:"25",height:"25",src:dt[n-1].icon,alt:""}),f.a.createElement("p",{className:"blockyname"},dt[n-1].title)),f.a.createElement("div",{className:"blockydiv"}),f.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:dt[n-1].desc}}),f.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}),l?l.map((function(e,t){return f.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:e.left,top:e.top},key:"--".concat(t)},f.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:e.type}),f.a.createElement("div",{className:"blockyleft"},f.a.createElement("img",{width:"25",height:"25",src:dt[e.type-1].icon,alt:""}),f.a.createElement("p",{className:"blockyname"},dt[e.type-1].title)),f.a.createElement("div",{className:"blockydiv"}),f.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:dt[e.type-1].desc}}),f.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:e.id}))})):null,s?s.map((function(e,t){return f.a.createElement("div",{className:"arrowblock",style:{left:e.left,top:e.top},key:"__".concat(t)},f.a.createElement("input",{type:"hidden",className:"arrowid",value:e.id}),f.a.createElement("svg",{preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.a.createElement("path",{d:e.path1,stroke:"#C5CCD0",strokeWidth:"2px"}),f.a.createElement("path",{d:e.path2,fill:"#C5CCD0"})))})):null)}}]),t}(m.Component),ut=Object(le.b)("journeyStore")(o=Object(le.c)(o=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={showSettings:!1,draggedBlock:null,blocks:[],arrows:[],blocksTemp:[],arrowsTemp:[]},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=void 0,a.blocks=void 0,a.blocksTemp=void 0,a.arrows=void 0,a.arrowsTemp=void 0,a.canvas_div=void 0,a.active=void 0,a.paddingx=void 0,a.paddingy=void 0,a.offsetleft=void 0,a.offsetleftold=void 0,a.rearrange=void 0,a.lastevent=void 0,a.dragx=void 0,a.dragy=void 0,a.original=void 0,a.drag=void 0,a.dragId=void 0,a.mouse_x=void 0,a.mouse_y=void 0,a.dragblock=void 0,a.link=void 0,a.canvasRef=void 0,a.flowRef=void 0,a.chartData=void 0,a.rightcard=void 0,a.tempblock=void 0,a.openConfigurator=function(){a.setState({showSettings:!0})},a.closeSettings=function(){a.setState({showSettings:!1})},a.blockGrabbed=function(e){e.classList.add("blockdisabled"),a.tempblock2=e},a.import=function(e){a.setState({blocks:e.blocks.slice(),arrows:e.arrows.slice()})},a.output=function(){return{blocks:a.blocks.slice(),arows:a.arrows.slice()}},a.clearSketch=function(){a.flowRef={},a.blocks=[],a.arrows=[],a.setState({blocks:a.blocks.slice(),arrows:a.arrows.slice()})},a.deleteBlock=function(e){if(a.blocks=a.blocks.filter((function(t){return t.id!==e})),0!==e){var t=a.arrows.findIndex((function(t){return t.id===e}));t>-1&&a.arrows.splice(t,1)}for(var n=a.blocks.slice().filter((function(t){return t.parent===e})),o=!1,l=[];!o;){for(var s=function(t){if(n[t]!==e){var o=a.blocks.findIndex((function(e){return e.id===n[t].id})),s=a.arrows.findIndex((function(e){return e.id===n[t].id}));a.blocks.splice(o,1),a.arrows.splice(s,1),l.push(n[t].id)}},i=0;i<n.length;i++)s(i);0===l.length?o=!0:(n=a.blocks.filter((function(e){return l.includes(e.parent)})),l=[])}a.blocks.length>1&&a.rearrangeMe(),a.lastevent&&a.fixOffset(),a.draw()},a.beginDrag=function(e){if(e.targetTouches?(a.mouse_x=e.changedTouches[0].clientX,a.mouse_y=e.changedTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),3!==e.which&&e.target.closest(".create-flowy")){a.original=e.target.closest(".create-flowy");var t=Number(a.original.querySelector(".blockelemtype").value),n=0;n=0===a.blocks.length?0:Math.max.apply(Math,a.blocks.map((function(e){return e.id})))+1,a.dragId=n,a.blockGrabbed(e.target.closest(".create-flowy")),a.active=!0,a.dragx=a.mouse_x-e.target.closest(".create-flowy").offsetLeft,a.dragy=a.mouse_y-e.target.closest(".create-flowy").offsetTop;var o=a.mouse_x-a.dragx,l=a.mouse_y-a.dragy;a.setState({draggedBlock:{type:t,id:n,left:o,top:l}})}},a.touchDone=function(){a.dragblock=!1},a.endDrag=function(e){if(3!==e.which&&(a.active||a.rearrange)){a.dragblock=!1,a.blockReleased();var t=a.dragId,n=a.blocksTemp.filter((function(e){return e.id===t}))[0],o=Number(a.drag.querySelector(".blockelemtype").value),l=!!n&&-1===n.parent;if(a.active&&a.original.classList.remove("dragnow"),l&&a.rearrange)if(a.link)!function(){for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),o=function(o){var l=a.blocks.filter((function(e){return e.id===n[o]}))[0];if(e>=l.x-l.width/2-a.paddingx&&e<=l.x+l.width/2+a.paddingx&&t>=l.y-l.height/2&&t<=l.y+l.height)return a.active=!1,a.snap(n[o]),"break"},l=0;l<a.blocks.length;l++){if("break"===o(l))break}a.link=!1}();else{a.rearrange=!1;var s=a.blocksTemp.slice()[0],i=s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;s.x=i+s.width/2,s.y=c+s.height/2,a.blocksTemp[0]=s;for(var r=function(e){if(a.blocksTemp[e].id!==a.dragId){var t=a.blocksTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),n=a.arrowsTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),o=a.blocksTemp.slice()[t],l=a.arrowsTemp.slice()[n],i=o.left+s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=o.top+s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,r=l.left+s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=l.top+s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=i-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,u=c-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;o.left=p,o.top=u;var m=r-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,f=d-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;l.left=m,l.top=f,o.x=p+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft+o.width/2+a.canvas_div.scrollLeft,o.y=u+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop+o.height/2+a.canvas_div.scrollTop,a.blocksTemp[t]=o,a.arrowsTemp[n]=l}},d=0;d<a.blocksTemp.length;d++)r(d);a.blocks=a.blocks.concat(a.blocksTemp),a.blocksTemp=[],a.arrows=a.arrows.concat(a.arrowsTemp),a.arrowsTemp=[]}else if(a.active&&!a.link&&a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left){a.active=!1;var p=a.drag.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop,u=a.drag.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft;a.setState({draggedBlock:null}),a.blockSnap({left:u,top:p,type:o,id:t}),a.blocks.push({parent:-1,childwidth:0,id:t,x:a.flowRef[t].getBoundingClientRect().left+parseInt(window.getComputedStyle(a.flowRef[t]).width)/2+a.canvas_div.scrollLeft,y:a.flowRef[t].getBoundingClientRect().top+parseInt(window.getComputedStyle(a.flowRef[t]).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.flowRef[t]).width),height:parseInt(window.getComputedStyle(a.flowRef[t]).height),left:u,top:p,type:o,link:{show:!1,position:"bottom"}})}else(a.active||a.rearrange)&&function(){a.link=!1;for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),o=function(o){var l=a.blocks.filter((function(e){return e.id===n[o]}))[0];return e>=l.x-l.width/2-a.paddingx&&e<=l.x+l.width/2+a.paddingx&&t>=l.y-l.height/2&&t<=l.y+l.height?(a.active=!1,a.rearrange?a.rearrange&&a.snap(n[o]):a.snap(n[o]),"break"):o===a.blocks.length-1?(console.log("DRAG-END_END"),a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left||a.setState({draggedBlock:null}),a.rearrange=!1,a.active=!1,"break"):void 0},l=0;l<a.blocks.length;l++){if("break"===o(l))break}}();a.hideConnector(),a.draw()}},a.snap=function(e){for(var t=a.dragId,n=Number(a.drag.querySelector(".blockelemtype").value),o=0,l=0,s=0;s<a.blocks.filter((function(t){return t.parent===e})).length;s++){var i=a.blocks.filter((function(t){return t.parent===e}))[s];i.childwidth>i.width?o+=i.childwidth+a.paddingx:o+=i.width+a.paddingx}o+=parseInt(window.getComputedStyle(a.drag).width);for(var c=function(t){var n=a.blocks.filter((function(t){return t.parent===e}))[t];if(n.childwidth>n.width){var s=a.blocks.findIndex((function(e){return e.id===n.id})),i=a.blocks.slice()[s],c=a.blocks.filter((function(t){return t.id===e}))[0].x-o/2+l+n.childwidth/2-n.width/2;i.left=c,a.blocks[s]=i,n.x=a.blocks.filter((function(t){return t.parent===e}))[0].x-o/2+l+n.childwidth/2,l+=n.childwidth+a.paddingx}else{var r=a.blocks.findIndex((function(e){return e.id===n.id})),d=a.blocks.slice()[r],p=a.blocks.filter((function(t){return t.id===e}))[0].x-o/2+l;d.left=p,a.blocks[r]=d,n.x=a.blocks.filter((function(t){return t.parent===e}))[0].x-o/2+l+n.width/2,l+=n.width+a.paddingx}},r=0;r<a.blocks.filter((function(t){return t.parent===e})).length;r++)c(r);var d=a.blocks.filter((function(t){return t.id===e}))[0].x-o/2+l-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,p=a.blocks.filter((function(t){return t.id===e}))[0].y+a.blocks.filter((function(t){return t.id===e}))[0].height/2+a.paddingy-a.canvas_div.getBoundingClientRect().top;if(a.rearrange){var u=a.blocksTemp.slice()[0];u.left=d,u.top=p;var m=d+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,f=p+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;u.x=m+u.width/2+a.canvas_div.scrollLeft,u.y=f+u.height/2+a.canvas_div.scrollTop,u.parent=e,a.blocksTemp[0]=u;for(var g=function(e){if(a.blocksTemp[e].id!==t){var n=a.blocksTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),o=a.arrowsTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),l=a.blocksTemp.slice()[n],s=a.arrowsTemp.slice()[o],i=l.left+u.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=l.top+u.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,r=s.left+u.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=s.top+u.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=i-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,m=c-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;l.left=p,l.top=m;var f=r-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+20,g=d-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;s.left=f,s.top=g,l.x=p+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft+l.width/2+a.canvas_div.scrollLeft,l.y=m+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop+l.height/2+a.canvas_div.scrollTop,a.blocksTemp[n]=l,a.arrowsTemp[o]=s}},h=0;h<a.blocksTemp.length;h++)g(h);a.blocks=a.blocks.concat(a.blocksTemp),a.blocksTemp=[],a.arrows=a.arrows.concat(a.arrowsTemp),a.arrowsTemp=[]}else a.setState({draggedBlock:null}),a.blockSnap({left:d,top:p,type:n,id:t}),a.blocks.push({childwidth:0,parent:e,id:t,x:a.flowRef[t].getBoundingClientRect().left+parseInt(window.getComputedStyle(a.flowRef[t]).width)/2+a.canvas_div.scrollLeft,y:a.flowRef[t].getBoundingClientRect().top+parseInt(window.getComputedStyle(a.flowRef[t]).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.flowRef[t]).width),height:parseInt(window.getComputedStyle(a.flowRef[t]).height),left:d,top:p,type:n,link:{show:!1,position:"bottom"}});var b,v=a.blocks.filter((function(e){return e.id===t}))[0],k=v.x-a.blocks.filter((function(t){return t.id===e}))[0].x+20,j=parseFloat(v.y-v.height/2-(a.blocks.filter((function(t){return t.parent===e}))[0].y+a.blocks.filter((function(t){return t.parent===e}))[0].height/2)+a.canvas_div.scrollTop),_="",y="",E=0;k<0?(_="M ".concat(a.blocks.filter((function(t){return t.id===e}))[0].x-v.x+5," 0L").concat(a.blocks.filter((function(t){return t.id===e}))[0].x-v.x+5," ").concat(a.paddingy/2,"L5 ").concat(a.paddingy/2,"  L5 ").concat(j),y="M0 ".concat(j-5," H10L5 ").concat(j,"L0 ").concat(j-5," Z"),E=v.x-5-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft):(_="M20 0L20 ".concat(a.paddingy/2,"L").concat(k," ").concat(a.paddingy/2,"L").concat(k," ").concat(j),y="M".concat(k-5," ").concat(j-5,"H").concat(k+5,"L").concat(k," ").concat(j,"L").concat(k-5," ").concat(j-5," Z"),E=a.blocks.filter((function(t){return t.id===e}))[0].x-20-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft),b=a.blocks.filter((function(t){return t.id===e}))[0].y+a.blocks.filter((function(t){return t.id===e}))[0].height/2,a.arrows.push({id:t,path1:_,path2:y,left:E,top:b}),-1!==a.blocks.filter((function(t){return t.id===e}))[0].parent&&function(){for(var t=!1,n=e;!t;)if(-1===a.blocks.filter((function(e){return e.id===n}))[0].parent)t=!0;else{for(var l=0,s=0;s<a.blocks.filter((function(e){return e.parent===n})).length;s++){var i=a.blocks.filter((function(e){return e.parent===n}))[s];i.childwidth>i.width?s===a.blocks.filter((function(e){return e.parent===n})).length-1?l+=i.childwidth:l+=i.childwidth+a.paddingx:s===a.blocks.filter((function(e){return e.parent===n})).length-1?l+=i.width:l+=i.width+a.paddingx}a.blocks.filter((function(e){return e.id===n}))[0].childwidth=l,n=a.blocks.filter((function(e){return e.id===n}))[0].parent}a.blocks.filter((function(e){return e.id===n}))[0].childwidth=o}(),a.rearrange&&(a.rearrange=!1),a.rearrangeMe(),a.checkOffset()},a.rearrangeMe=function(){for(var e=a.blocks.map((function(e){return e.parent})),t=function(t){if(-1===e[t]){if(!(t+1<e.length))return n=t,"break";t++}for(var o=0,l=0,s=function(n){var l=a.blocks.filter((function(a){return a.parent===e[t]}))[n];0===a.blocks.filter((function(e){return e.parent===l.id})).length&&(l.childwidth=0),l.childwidth>l.width?n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?o+=l.childwidth:o+=l.childwidth+a.paddingx:n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?o+=l.width:o+=l.width+a.paddingx},i=0;i<a.blocks.filter((function(a){return a.parent===e[t]})).length;i++)s(i);-1!==e[t]&&(a.blocks.filter((function(a){return a.id===e[t]}))[0].childwidth=o);for(var c=function(n){var s=a.blocks.filter((function(a){return a.parent===e[t]}))[n],i=a.blocks.findIndex((function(e){return e.id===s.id})),c=a.blocks.slice()[i],r=a.blocks.slice().filter((function(a){return a.id===e[t]}));if(!r.length)return"break";var d=0;s.childwidth>s.width?(d=r[0].x-o/2+l+s.childwidth/2-s.width/2-a.canvas_div.getBoundingClientRect().left,s.x=r[0].x-o/2+l+s.childwidth/2,l+=s.childwidth+a.paddingx):(d=r[0].x-o/2+l-a.canvas_div.getBoundingClientRect().left,s.x=r[0].x-o/2+l+s.width/2,l+=s.width+a.paddingx),c.left=d,a.blocks[i]=c;var p=a.blocks.filter((function(e){return e.id===s.id}))[0],u=p.x-a.blocks.filter((function(e){return e.id===s.parent}))[0].x+20,m=p.y-p.height/2-(a.blocks.filter((function(e){return e.id===s.parent}))[0].y+a.blocks.filter((function(e){return e.id===s.parent}))[0].height/2),f=a.arrows.findIndex((function(e){return e.id===s.id})),g=a.blocks.filter((function(e){return e.id===s.parent}))[0].y+a.blocks.filter((function(e){return e.id===s.parent}))[0].height/2-a.canvas_div.getBoundingClientRect().top,h=0,b="",v="";u<0?(h=p.x-5-a.canvas_div.getBoundingClientRect().left,b="M".concat(a.blocks.filter((function(e){return e.id===s.parent}))[0].x-p.x+5,"  0L").concat(a.blocks.filter((function(e){return e.id===s.parent}))[0].x-p.x+5," ").concat(a.paddingy/2,"L5 ").concat(a.paddingy/2,"L5 ").concat(m),v="M0 ".concat(m-5,"H10L5 ").concat(m,"L0 ").concat(m-5,"Z")):(h=a.blocks.filter((function(e){return e.id===s.parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left,b="M20 0L20 ".concat(a.paddingy/2,"L").concat(u," ").concat(a.paddingy/2,"L").concat(u," ").concat(m),v="M".concat(u-5," ").concat(m-5,"H").concat(u+5,"L").concat(u," ").concat(m,"L").concat(u-5," ").concat(m-5,"Z")),a.arrows[f]={id:s.id,path1:b,path2:v,left:h,top:g}},r=0;r<a.blocks.filter((function(a){return a.parent===e[t]})).length;r++){if("break"===c(r))break}n=t},n=0;n<e.length;n++){if("break"===t(n))break}},a.checkOffset=function(){a.offsetleft=a.blocks.map((function(e){return e.x}));var e=a.blocks.map((function(e){return e.width})),t=a.offsetleft.map((function(t,a){return t-e[a]/2}));a.offsetleft=Math.min.apply(Math,t),a.offsetleft<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!0;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){var n=a.blocks.findIndex((function(a){return a.id===e[t]})),o=a.blocks.slice()[n],l=a.blocks.filter((function(a){return a.id===e[t]}))[0].x-a.blocks.filter((function(a){return a.id===e[t]}))[0].width/2-a.offsetleft+20;if(o.left=l,a.blocks[n]=o,-1!==a.blocks.filter((function(a){return a.id===e[t]}))[0].parent){var s=a.blocks.filter((function(a){return a.id===e[t]}))[0],i=s.x-a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x,c=a.arrows.findIndex((function(a){return a.id===e[t]})),r=0;r=i<0?s.x-a.offsetleft+20-5:a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x-20-a.offsetleft+20,a.arrows[c]={id:e[t],path1:a.arrows[c].path1,path2:a.arrows[c].path2,left:r,top:a.arrows[c].top}}},n=0;n<a.blocks.length;n++)t(n);for(var o=0;o<a.blocks.length;o++){var l=a.blocks.slice()[o],s=l.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft;l.x=s+(a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft)-l.width/2-40}a.offsetleftold=a.offsetleft}()},a.touchblock=function(e){if(a.dragblock=!1,a.hasParentClass(e.target,"block")){var t=e.target.closest(".block").querySelector(".blockid").value;e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),"mouseup"!==e.type&&a.hasParentClass(e.target,"block")&&3!==e.which&&(a.active||a.rearrange||(a.dragblock=!0,a.dragId=Number(t),a.drag=a.flowRef[t],a.dragx=a.mouse_x-a.drag.getBoundingClientRect().left,a.dragy=a.mouse_y-a.drag.getBoundingClientRect().top))}},a.hasParentClass=function(e,t){return!!(e.className&&e.className.split&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&a.hasParentClass(e.parentNode,t)},a.moveBlock=function(e){e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY);var t=a.mouse_x-a.dragx,n=a.mouse_y-a.dragy;if(a.dragblock&&function(){a.rearrange=!0,a.drag.classList.add("dragging");var e=a.dragId;a.blocksTemp.push(a.blocks.slice().filter((function(t){return t.id===e}))[0]),a.blocksTemp[0].parent=-1;var t=a.blocksTemp[0].left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,n=a.blocksTemp[0].top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;if(a.blocks=a.blocks.filter((function(t){return t.id!==e})),0!==e){var o=a.arrows.findIndex((function(t){return t.id===e}));o>-1&&a.arrows.splice(o,1)}for(var l=a.blocks.slice().filter((function(t){return t.parent===e})),s=!1,i=[];!s;){for(var c=function(o){if(l[o]!==e){var s=a.blocks.slice().filter((function(e){return e.id===l[o].id}))[0],c=a.arrows.slice().filter((function(e){return e.id===l[o].id}))[0],r=s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=c.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,u=c.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,m=r-t,f=d-n,g=p-t,h=u-n;s.left=m,s.top=f,c.left=g,c.top=h,a.blocksTemp.push(s),a.arrowsTemp.push(Object(ie.a)({},c));var b=a.blocks.findIndex((function(e){return e.id===s.id})),v=a.arrows.findIndex((function(e){return e.id===c.id}));a.blocks.splice(b,1),a.arrows.splice(v,1),i.push(l[o].id),c=null,s=null}},r=0;r<l.length;r++)c(r);0===i.length?s=!0:(l=a.blocks.filter((function(e){return i.includes(e.parent)})),i=[])}a.blocks.length>1&&a.rearrangeMe(),a.lastevent&&a.fixOffset(),a.dragblock=!1}(),a.active){var o=a.state.draggedBlock;o.left=t,o.top=n,a.setState({draggedBlock:o})}else if(a.rearrange){var l=a.blocksTemp.slice()[0],s=a.mouse_x-a.dragx-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,i=a.mouse_y-a.dragy-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;l.left=s,l.top=i;var c=s+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,r=i+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;l.x=c+l.width/2+a.canvas_div.scrollLeft,l.y=r+l.height/2+a.canvas_div.scrollTop,a.blocksTemp[0]=l}(a.active||a.rearrange)&&function(){for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),o=function(o){var l=a.blocks.filter((function(e){return e.id===n[o]}))[0];if(e>=l.x-l.width/2-a.paddingx&&e<=l.x+l.width/2+a.paddingx&&t>=l.y-l.height/2&&t<=l.y+l.height){a.link=!0;var s=a.blocks.findIndex((function(e){return e.id===n[o]})),i=a.blocks.slice()[s];return i.link={show:!0,position:"bottom"},a.blocks[s]=i,"break"}a.link=!1;var c=a.blocks.findIndex((function(e){return e.id===n[o]})),r=a.blocks.slice()[c];r.link={show:!1,position:"bottom"},a.blocks[c]=r},l=0;l<a.blocks.length;l++){if("break"===o(l))break}}(),a.draw()},a.fixOffset=function(){a.offsetleftold<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!1;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){var n=a.blocks.findIndex((function(a){return a.id===e[t]})),o=a.blocks.slice()[n],l=o.x-o.width/2-a.offsetleftold-20;o.left=l;var s=l+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft;if(o.x=s+o.width/2,-1!==o.parent){var i=o,c=i.x-a.blocks.filter((function(e){return e.id===o.parent}))[0].x,r=a.arrows.findIndex((function(a){return a.id===e[t]})),d=0;d=c<0?i.x-5-a.canvas_div.getBoundingClientRect().left:a.blocks.filter((function(e){return e.id===o.parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left;var p=a.arrows.slice()[r];p.left=d,a.arrows[r]=p}a.blocks[n]=o},n=0;n<a.blocks.length;n++)t(n);a.offsetleftold=0}()},a.startEdit=function(){a.props.journeyStore.editMode&&(document.addEventListener("mousedown",a.touchblock,!1),document.addEventListener("touchstart",a.touchblock,!1),document.addEventListener("mouseup",a.touchblock,!1),document.addEventListener("mousedown",a.beginDrag),document.addEventListener("touchstart",a.beginDrag),document.addEventListener("mouseup",a.endDrag,!1),document.addEventListener("touchend",a.endDrag,!1),document.addEventListener("mousemove",a.moveBlock,!1),document.addEventListener("touchmove",a.moveBlock,!1))},a.editTrigger=function(){var e=a.props.journeyStore,t=e.editMode,n=e.setEditMode;t||(n(!0),a.startEdit())},a.exportData=function(){a.chartData=JSON.stringify(a.output()),localStorage.setItem("journey_1",a.chartData),a.clearSketch()},a.importData=function(){a.chartData=localStorage.getItem("journey_1"),a.chartData&&a.import(JSON.parse(a.chartData))},a.setDragRef=function(e){a.drag=e},a.setFlowRef=function(e,t){a.flowRef[e]=t},a.setTempRef=function(e){a.drag=e[a.dragId]},a.state={showSettings:!1,draggedBlock:null,blocks:[],arrows:[],blocksTemp:[],arrowsTemp:[]},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=!1,a.blocks=[],a.blocksTemp=[],a.arrows=[],a.arrowsTemp=[],a.canvas_div=void 0,a.active=!1,a.paddingx=0,a.paddingy=0,a.offsetleft=0,a.offsetleftold=0,a.rearrange=!1,a.lastevent=!1,a.dragx=0,a.dragy=0,a.original=null,a.drag=void 0,a.dragId=-1,a.mouse_x=0,a.mouse_y=0,a.dragblock=!1,a.link=!1,a.canvasRef=f.a.createRef(),a.flowRef={},a.chartData="",a.rightcard=!1,a.tempblock=void 0,a}return Object(E.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.flowy(this.canvasRef.current)}},{key:"flowy",value:function(e){this.load(e,20,60)}},{key:"blockReleased",value:function(){this.tempblock2&&this.tempblock2.classList.remove("blockdisabled")}},{key:"blockSnap",value:function(e){var t=this.blocks.slice();return t.push({left:e.left,top:e.top,type:e.type,id:e.id,link:{show:!1,position:"bottom"}}),t.forEach((function(e){e.link={show:!1,position:"bottom"}})),this.setState({blocks:t}),!0}},{key:"hideConnector",value:function(){var e=this.blocks.slice();e.forEach((function(e){e.link={link:!1,position:"bottom"}})),this.blocks=e}},{key:"load",value:function(e,t,a){var n=this.props.journeyStore.editMode;this.loaded||(this.loaded=!0,this.canvas_div=e,this.paddingx=t,this.paddingy=a,n&&this.startEdit())}},{key:"draw",value:function(){this.setState({blocks:this.blocks.slice(),arrows:this.arrows.slice(),blocksTemp:this.blocksTemp.slice(),arrowsTemp:this.arrowsTemp.slice()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.draggedBlock,n=t.showSettings,o=t.blocks,l=t.arrows,s=t.blocksTemp,i=t.arrowsTemp,c=this.props.journeyStore.editMode,r=o.length>0;return f.a.createElement(O.a,{className:"full-height"},f.a.createElement(B.a,null,f.a.createElement(N.a,null,f.a.createElement(R.a,{grow:!1},f.a.createElement(S.a,{border:"none"},f.a.createElement(ce.a,{iconType:"arrowLeft"},"Back"))),f.a.createElement(x.a,{breadcrumbs:this.breadcrumbs}),f.a.createElement(R.a,{side:"right",className:"content-center"},f.a.createElement(re.a,{label:"Edit",fill:c,onChange:this.editTrigger,isSelected:c,size:"s"}),f.a.createElement(A.a,{fill:!0,onClick:this.exportData,size:"s",color:"secondary",style:{marginLeft:10}},"Save"),f.a.createElement(A.a,{fill:!0,onClick:this.clearSketch,size:"s",color:"danger",style:{marginLeft:10,marginRight:10}},"Clear"))),f.a.createElement(M.a,{gutterSize:"none"},f.a.createElement(D.a,{grow:!1},c?f.a.createElement(Ae,null):null),f.a.createElement(D.a,null,f.a.createElement(z.a,{paddingSize:"none"},n?f.a.createElement(ye,{closeSettings:this.closeSettings}):null,f.a.createElement("div",{className:"canvas ".concat(c?"edit-bg":"view-bg"),ref:this.canvasRef},r?o.map((function(t,a){return f.a.createElement(ct,{type:t.type,id:t.id,left:t.left,top:t.top,link:t.link,key:".".concat(a),setFlowRef:e.setFlowRef,openConfigurator:e.openConfigurator,deleteBlock:e.deleteBlock})})):null,l.length?l.map((function(e,t){return f.a.createElement(rt,{id:e.id,path1:e.path1,path2:e.path2,left:e.left,top:e.top,key:"_".concat(t)})})):null,s.length?f.a.createElement(pt,{left:s[0].left,top:s[0].top,type:s[0].type,id:s[0].id,blocksTemp:s.slice(1),arrowsTemp:i,setTempRef:this.setTempRef}):null))),a?f.a.createElement(We,{type:a.type,id:a.id,left:a.left,top:a.top,setDragRef:this.setDragRef}):null)))}}]),t}(m.Component))||o)||o,mt=a(45),ft=a(46),gt=(a(625),a(7)),ht={journeyStore:new(l=function e(){Object(k.a)(this,e),Object(mt.a)(this,"editJourney",s,this),Object(mt.a)(this,"authenticated",i,this),Object(mt.a)(this,"editMode",c,this),Object(mt.a)(this,"journeyList",r,this),Object(mt.a)(this,"getExistingJourneys",d,this),Object(mt.a)(this,"setJourneyEdit",p,this),Object(mt.a)(this,"setEditMode",u,this)},s=Object(ft.a)(l.prototype,"editJourney",[gt.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(ft.a)(l.prototype,"authenticated",[gt.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=Object(ft.a)(l.prototype,"editMode",[gt.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=Object(ft.a)(l.prototype,"journeyList",[gt.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=Object(ft.a)(l.prototype,"getExistingJourneys",[gt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.journeyList=[{id:"j_1",displayLabel:"Frequent User flow"},{id:"j_2",displayLabel:"Rare User flow"},{id:"j_3",displayLabel:"Addicted User flow"}]}}}),p=Object(ft.a)(l.prototype,"setJourneyEdit",[gt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.editJourney=t}}}),u=Object(ft.a)(l.prototype,"setEditMode",[gt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.editMode=t}}}),l)},bt=function(){return f.a.createElement(le.a,ht,f.a.createElement(b.a,null,f.a.createElement(v.d,null,f.a.createElement(v.b,{exact:!0,path:"/",component:se}),f.a.createElement(v.b,{path:"/sketchpad",component:ut}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(626);h.a.render(f.a.createElement(bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,a){e.exports=a.p+"static/media/database.72dd3ab6.svg"},64:function(e,t,a){e.exports=a.p+"static/media/log.0835ccf3.svg"},65:function(e,t,a){e.exports=a.p+"static/media/databaseorange.ec0d974b.svg"},66:function(e,t,a){e.exports=a.p+"static/media/logred.d681594a.svg"}},[[253,358,359]]]);
//# sourceMappingURL=main.d7be2edf.chunk.js.map