(this["webpackJsonpworkflow-management"]=this["webpackJsonpworkflow-management"]||[]).push([[357],{100:function(e,t,a){e.exports=a.p+"static/media/time.4919b690.svg"},101:function(e,t,a){e.exports=a.p+"static/media/twitter.445e7a17.svg"},102:function(e,t,a){e.exports=a.p+"static/media/eyeblue.bf79c107.svg"},103:function(e,t,a){e.exports=a.p+"static/media/actionblue.efaec303.svg"},104:function(e,t,a){e.exports=a.p+"static/media/timeblue.13d7ad9f.svg"},105:function(e,t,a){e.exports=a.p+"static/media/errorblue.4c64f451.svg"},106:function(e,t,a){e.exports=a.p+"static/media/twitterorange.e5d041df.svg"},107:function(e,t,a){e.exports=a.p+"static/media/actionorange.084a30c7.svg"},108:function(e,t,a){e.exports=a.p+"static/media/errorred.fd788c04.svg"},267:function(e,t,a){e.exports=a(657)},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},298:function(e,t,a){var n={"./accessibility.js":[662,0],"./aggregate.js":[663,1],"./alert.js":[664,2],"./annotation.js":[665,3],"./apm_trace.js":[666,4],"./app_add_data.js":[667,5],"./app_advanced_settings.js":[668,6],"./app_apm.js":[669,7],"./app_auditbeat.js":[670,8],"./app_canvas.js":[671,9],"./app_code.js":[672,10],"./app_console.js":[673,11],"./app_cross_cluster_replication.js":[674,12],"./app_dashboard.js":[675,13],"./app_devtools.js":[676,14],"./app_discover.js":[677,15],"./app_ems.js":[678,16],"./app_filebeat.js":[679,17],"./app_gis.js":[680,18],"./app_graph.js":[681,19],"./app_grok.js":[682,20],"./app_heartbeat.js":[683,21],"./app_index_management.js":[684,22],"./app_index_pattern.js":[685,23],"./app_index_rollup.js":[686,24],"./app_lens.js":[687,25],"./app_logs.js":[688,26],"./app_management.js":[689,27],"./app_metricbeat.js":[690,28],"./app_metrics.js":[691,29],"./app_ml.js":[692,30],"./app_monitoring.js":[693,31],"./app_notebook.js":[694,32],"./app_packetbeat.js":[695,33],"./app_pipeline.js":[696,34],"./app_recently_viewed.js":[697,35],"./app_reporting.js":[698,36],"./app_saved_objects.js":[699,37],"./app_search_profiler.js":[700,38],"./app_security.js":[701,39],"./app_security_analytics.js":[702,40],"./app_spaces.js":[703,41],"./app_sql.js":[704,42],"./app_timelion.js":[705,43],"./app_upgrade_assistant.js":[706,44],"./app_uptime.js":[707,45],"./app_users_roles.js":[708,46],"./app_visualize.js":[709,47],"./app_watches.js":[710,48],"./apps.js":[711,49],"./arrow_down.js":[712,50],"./arrow_left.js":[713,51],"./arrow_right.js":[714,52],"./arrow_up.js":[715,53],"./asterisk.js":[716,54],"./beaker.js":[717,55],"./bell.js":[718,56],"./bellSlash.js":[719,57],"./bolt.js":[720,58],"./boxes_horizontal.js":[721,59],"./boxes_vertical.js":[722,60],"./branch.js":[723,61],"./broom.js":[724,62],"./brush.js":[725,63],"./bug.js":[726,64],"./bullseye.js":[727,65],"./calendar.js":[728,66],"./check.js":[729,67],"./checkInCircleFilled.js":[730,68],"./clock.js":[731,69],"./cloudDrizzle.js":[732,70],"./cloudStormy.js":[733,71],"./cloudSunny.js":[734,72],"./compute.js":[735,73],"./console.js":[736,74],"./controls_horizontal.js":[737,75],"./controls_vertical.js":[738,76],"./copy.js":[739,77],"./copy_clipboard.js":[740,78],"./cross.js":[741,79],"./crossInACircleFilled.js":[742,80],"./crosshairs.js":[743,81],"./currency.js":[744,82],"./cut.js":[745,83],"./database.js":[746,84],"./document.js":[747,85],"./documentEdit.js":[748,86],"./documents.js":[749,87],"./dot.js":[750,88],"./editorDistributeHorizontal.js":[751,89],"./editorDistributeVertical.js":[752,90],"./editorItemAlignBottom.js":[753,91],"./editorItemAlignCenter.js":[754,92],"./editorItemAlignLeft.js":[755,93],"./editorItemAlignMiddle.js":[756,94],"./editorItemAlignRight.js":[757,95],"./editorItemAlignTop.js":[758,96],"./editorPositionBottomLeft.js":[759,97],"./editorPositionBottomRight.js":[760,98],"./editorPositionTopLeft.js":[761,99],"./editorPositionTopRight.js":[762,100],"./editor_align_center.js":[763,101],"./editor_align_left.js":[764,102],"./editor_align_right.js":[765,103],"./editor_bold.js":[766,104],"./editor_code_block.js":[767,105],"./editor_comment.js":[768,106],"./editor_heading.js":[769,107],"./editor_italic.js":[770,108],"./editor_link.js":[771,109],"./editor_ordered_list.js":[772,110],"./editor_redo.js":[773,111],"./editor_strike.js":[774,112],"./editor_table.js":[775,113],"./editor_underline.js":[776,114],"./editor_undo.js":[777,115],"./editor_unordered_list.js":[778,116],"./email.js":[779,117],"./empty.js":[95],"./exit.js":[780,118],"./expand.js":[781,119],"./expandMini.js":[782,120],"./export.js":[783,121],"./eye.js":[784,122],"./eye_closed.js":[785,123],"./faceNeutral.js":[786,124],"./face_happy.js":[787,125],"./face_neutral.js":[788,126],"./face_sad.js":[789,127],"./filter.js":[790,128],"./flag.js":[791,129],"./folder_closed.js":[792,130],"./folder_open.js":[793,131],"./full_screen.js":[794,132],"./gear.js":[795,133],"./glasses.js":[796,134],"./globe.js":[797,135],"./grab.js":[798,136],"./grab_horizontal.js":[799,137],"./grid.js":[800,138],"./heart.js":[801,139],"./heatmap.js":[802,140],"./help.js":[803,141],"./iInCircle.js":[804,142],"./import.js":[805,143],"./index_close.js":[806,144],"./index_edit.js":[807,145],"./index_flush.js":[808,146],"./index_mapping.js":[809,147],"./index_open.js":[810,148],"./index_settings.js":[811,149],"./inputOutput.js":[812,150],"./inspect.js":[813,151],"./invert.js":[814,152],"./ip.js":[815,153],"./keyboard_shortcut.js":[816,154],"./kql_field.js":[817,155],"./kql_function.js":[818,156],"./kql_operand.js":[819,157],"./kql_selector.js":[820,158],"./kql_value.js":[821,159],"./link.js":[822,160],"./list.js":[823,161],"./list_add.js":[824,162],"./lock.js":[825,163],"./lockOpen.js":[826,164],"./logo_aerospike.js":[827,165],"./logo_apache.js":[828,166],"./logo_apm.js":[829,167],"./logo_app_search.js":[830,168],"./logo_aws.js":[831,169],"./logo_aws_mono.js":[832,170],"./logo_azure.js":[833,171],"./logo_azure_mono.js":[834,172],"./logo_beats.js":[835,173],"./logo_business_analytics.js":[836,174],"./logo_ceph.js":[837,360],"./logo_cloud.js":[838,175],"./logo_cloud_ece.js":[839,176],"./logo_code.js":[840,177],"./logo_codesandbox.js":[841,178],"./logo_couchbase.js":[842,179],"./logo_docker.js":[843,180],"./logo_dropwizard.js":[844,181],"./logo_elastic.js":[845,182],"./logo_elastic_stack.js":[846,183],"./logo_elasticsearch.js":[847,184],"./logo_enterprise_search.js":[848,185],"./logo_etcd.js":[849,186],"./logo_gcp.js":[850,187],"./logo_gcp_mono.js":[851,188],"./logo_github.js":[852,189],"./logo_gmail.js":[853,190],"./logo_golang.js":[854,361],"./logo_haproxy.js":[855,362],"./logo_ibm.js":[856,191],"./logo_ibm_mono.js":[857,192],"./logo_kafka.js":[858,193],"./logo_kibana.js":[859,194],"./logo_kubernetes.js":[860,195],"./logo_logging.js":[861,196],"./logo_logstash.js":[862,197],"./logo_maps.js":[863,198],"./logo_memcached.js":[864,199],"./logo_metrics.js":[865,200],"./logo_mongodb.js":[866,201],"./logo_mysql.js":[867,202],"./logo_nginx.js":[868,203],"./logo_observability.js":[869,204],"./logo_osquery.js":[870,205],"./logo_php.js":[871,206],"./logo_postgres.js":[872,207],"./logo_prometheus.js":[873,208],"./logo_rabbitmq.js":[874,209],"./logo_redis.js":[875,210],"./logo_security.js":[876,211],"./logo_site_search.js":[877,212],"./logo_sketch.js":[878,213],"./logo_slack.js":[879,214],"./logo_uptime.js":[880,215],"./logo_webhook.js":[881,216],"./logo_windows.js":[882,217],"./logo_workplace_search.js":[883,218],"./logstash_filter.js":[884,219],"./logstash_if.js":[885,220],"./logstash_input.js":[886,221],"./logstash_output.js":[887,222],"./logstash_queue.js":[888,223],"./magnet.js":[889,224],"./magnifyWithMinus.js":[890,225],"./magnifyWithPlus.js":[891,226],"./map_marker.js":[892,227],"./memory.js":[893,228],"./menuLeft.js":[894,229],"./menuRight.js":[895,230],"./merge.js":[896,231],"./minimize.js":[897,232],"./minus_in_circle.js":[898,233],"./minus_in_circle_filled.js":[899,234],"./ml_create_advanced_job.js":[900,235],"./ml_create_multi_metric_job.js":[901,236],"./ml_create_population_job.js":[902,237],"./ml_create_single_metric_job.js":[903,238],"./ml_data_visualizer.js":[904,239],"./moon.js":[905,240],"./nested.js":[906,241],"./node.js":[907,242],"./number.js":[908,243],"./offline.js":[909,244],"./online.js":[910,245],"./package.js":[911,246],"./pageSelect.js":[912,247],"./pagesSelect.js":[913,248],"./paint.js":[914,249],"./partial.js":[915,250],"./pause.js":[916,251],"./pencil.js":[917,252],"./pin.js":[918,253],"./pin_filled.js":[919,254],"./play.js":[920,255],"./plus_in_circle.js":[921,256],"./plus_in_circle_filled.js":[922,257],"./popout.js":[923,258],"./question_in_circle.js":[924,259],"./refresh.js":[925,260],"./save.js":[926,261],"./scale.js":[927,262],"./search.js":[928,263],"./securitySignal.js":[929,264],"./securitySignalDetected.js":[930,265],"./securitySignalResolved.js":[931,266],"./shard.js":[932,267],"./share.js":[933,268],"./snowflake.js":[934,269],"./sortLeft.js":[935,270],"./sortRight.js":[936,271],"./sort_down.js":[937,272],"./sort_up.js":[938,273],"./sortable.js":[939,274],"./starPlusEmpty.js":[940,275],"./starPlusFilled.js":[941,276],"./star_empty.js":[942,277],"./star_empty_space.js":[943,278],"./star_filled.js":[944,279],"./star_filled_space.js":[945,280],"./star_minus_empty.js":[946,281],"./star_minus_filled.js":[947,282],"./stats.js":[948,283],"./stop.js":[949,284],"./stop_filled.js":[950,285],"./stop_slash.js":[951,286],"./storage.js":[952,287],"./string.js":[953,288],"./submodule.js":[954,289],"./swatch_input.js":[955,290],"./symlink.js":[956,291],"./tableOfContents.js":[957,292],"./table_density_compact.js":[958,293],"./table_density_expanded.js":[959,294],"./table_density_normal.js":[960,295],"./tag.js":[961,296],"./tear.js":[962,297],"./temperature.js":[963,298],"./timeline.js":[964,299],"./tokens/tokenAnnotation.js":[965,300],"./tokens/tokenArray.js":[966,301],"./tokens/tokenBoolean.js":[967,302],"./tokens/tokenClass.js":[968,303],"./tokens/tokenConstant.js":[969,304],"./tokens/tokenElement.js":[970,305],"./tokens/tokenEnum.js":[971,306],"./tokens/tokenEnumMember.js":[972,307],"./tokens/tokenEvent.js":[973,308],"./tokens/tokenException.js":[974,309],"./tokens/tokenField.js":[975,310],"./tokens/tokenFile.js":[976,311],"./tokens/tokenFunction.js":[977,312],"./tokens/tokenInterface.js":[978,313],"./tokens/tokenKey.js":[979,314],"./tokens/tokenMethod.js":[980,315],"./tokens/tokenModule.js":[981,316],"./tokens/tokenNamespace.js":[982,317],"./tokens/tokenNull.js":[983,318],"./tokens/tokenNumber.js":[984,319],"./tokens/tokenObject.js":[985,320],"./tokens/tokenOperator.js":[986,321],"./tokens/tokenPackage.js":[987,322],"./tokens/tokenParameter.js":[988,323],"./tokens/tokenProperty.js":[989,324],"./tokens/tokenRepo.js":[990,325],"./tokens/tokenString.js":[991,326],"./tokens/tokenStruct.js":[992,327],"./tokens/tokenSymbol.js":[993,328],"./tokens/tokenVariable.js":[994,329],"./training.js":[995,330],"./trash.js":[996,331],"./user.js":[997,332],"./vector.js":[998,333],"./videoPlayer.js":[999,334],"./vis_area.js":[1e3,335],"./vis_area_stacked.js":[1001,336],"./vis_bar_horizontal.js":[1002,337],"./vis_bar_horizontal_stacked.js":[1003,338],"./vis_bar_vertical.js":[1004,339],"./vis_bar_vertical_stacked.js":[1005,340],"./vis_controls.js":[1006,341],"./vis_gauge.js":[1007,342],"./vis_goal.js":[1008,343],"./vis_heatmap.js":[1009,344],"./vis_line.js":[1010,345],"./vis_map_coordinate.js":[1011,346],"./vis_map_region.js":[1012,347],"./vis_metric.js":[1013,348],"./vis_pie.js":[1014,349],"./vis_table.js":[1015,350],"./vis_tag_cloud.js":[1016,351],"./vis_text.js":[1017,352],"./vis_timelion.js":[1018,353],"./vis_vega.js":[1019,354],"./vis_visual_builder.js":[1020,355],"./wrench.js":[1021,356]};function l(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],l=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(l)}))}l.keys=function(){return Object.keys(n)},l.id=298,e.exports=l},469:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/action.96102495.svg"},60:function(e,t,a){e.exports=a.p+"static/media/error.987d37d2.svg"},61:function(e,t,a){e.exports=a.p+"static/media/database.72dd3ab6.svg"},62:function(e,t,a){e.exports=a.p+"static/media/log.0835ccf3.svg"},63:function(e,t,a){e.exports=a.p+"static/media/databaseorange.ec0d974b.svg"},64:function(e,t,a){e.exports=a.p+"static/media/logred.d681594a.svg"},657:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(19),s=a.n(o),i=(a(272),a(273),a(94)),c=a(43),r=a(11),d=a(12),p=a(14),u=a(13),m=a(15),f=a(1067),g=a(1068),h=a(1069),v=a(1070),b=a(1071),k=a(1072),j=a(1073),E=a(1074),_=a(1075),w=a(1076),y=a(1110),C=a(1104),x=a(1078),T=a(1079),N=a(1080),S=a(225),R=a(1081),O=a(1082),B=(a(274),a(216)),L=a.n(B),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).onNameChange=function(e){a.setState({userName:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onLoginClick=function(e){""!==a.state.username&&""!==a.state.password?(a.setState({showErrors:!1}),L.a.get("http://localhost:4000/login",{params:{username:a.state.userName,password:a.state.password}},{withCredentials:!0}).then((function(e){console.log("login-response->",e),e.data.success&&a.setState({authenticated:!0})})).catch((function(e){a.setState({authenticated:!0})})).finally((function(){}))):a.setState({showErrors:!0})},a.enterPressed=function(e){13===(e.keyCode||e.which)&&""!==a.state.username&&""!==a.state.password&&a.onLoginClick()},a.state={userName:"",password:"",authenticated:!1,showErrors:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.authenticated?l.a.createElement(c.a,{to:"/"}):(this.state.showErrors&&(e=["Username / Password cannot be empty!!"]),l.a.createElement(f.a,null,l.a.createElement(g.a,null,l.a.createElement(h.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{size:"l"},l.a.createElement("h1",null,"Elastic Sample"))),l.a.createElement(v.a,null,"elastic sample")),l.a.createElement(k.a,{size:"xxl"}),l.a.createElement(j.a,{verticalPosition:"center",horizontalPosition:"center"},l.a.createElement(E.a,null,l.a.createElement(_.a,null,l.a.createElement(b.a,null,l.a.createElement("h2",null,"Sign-In")))),l.a.createElement(w.a,null,l.a.createElement(y.a,{isInvalid:this.state.showErrors,error:e},l.a.createElement(C.a,null,l.a.createElement(x.a,{placeholder:"Username",value:this.state.userName,onChange:this.onNameChange,icon:"user","aria-label":"Use aria labels when no actual label is in use",onKeyUp:this.enterPressed})),l.a.createElement(k.a,{size:"m"}),l.a.createElement(C.a,null,l.a.createElement(T.a,{placeholder:"Password",value:this.state.password,onChange:this.onPasswordChange,"aria-label":"Use aria labels when no actual label is in use",onKeyUp:this.enterPressed})),l.a.createElement(k.a,{size:"m"}),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{fill:!0,onClick:this.onLoginClick},"GO"))))),l.a.createElement(R.a,null,l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,{grow:!1},l.a.createElement(O.a,{gutterSize:"s"},l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{color:"ghost",size:"s",iconType:"help"},"Help")),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{color:"ghost",size:"s",iconType:"globe"},"Sitemap")))))))));var e}}]),t}(l.a.Component),z=a(1092),M=a(1107),D=a(1083),I=a(50),A=a(1093),F=a(1094),W=a(1095),U=a(219),q=a(1105),H=a(1111),J=a(1085),Y=a(1086),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=l.a.createElement(D.a,{"aria-controls":"keyPadMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},l.a.createElement(I.a,{type:"apps",size:"m"}));return l.a.createElement(H.a,{id:"headerAppMenu",ownFocus:!0,button:e,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu},l.a.createElement(J.a,{id:"keyPadMenu",style:{width:288}},l.a.createElement(Y.a,{label:"Discover",href:"#"},l.a.createElement(I.a,{type:"discoverApp",size:"l"})),l.a.createElement(Y.a,{label:"Dashboard",href:"#"},l.a.createElement(I.a,{type:"dashboardApp",size:"l"})),l.a.createElement(Y.a,{label:"Dev Tools",href:"#"},l.a.createElement(I.a,{type:"devToolsApp",size:"l"})),l.a.createElement(Y.a,{label:"Machine Learning",href:"#"},l.a.createElement(I.a,{type:"machineLearningApp",size:"l"})),l.a.createElement(Y.a,{label:"Graph",href:"#"},l.a.createElement(I.a,{type:"graphApp",size:"l"})),l.a.createElement(Y.a,{label:"Visualize",href:"#"},l.a.createElement(I.a,{type:"visualizeApp",size:"l"})),l.a.createElement(Y.a,{label:"Timelion",href:"#"},l.a.createElement(I.a,{type:"timelionApp",size:"l"}))))}}]),t}(n.Component),G=a(1087),X=a(1088),K=a(1089),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closeMenu=function(){a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement(D.a,{"aria-controls":"headerUserMenu","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":"Account menu",onClick:this.onMenuButtonClick},l.a.createElement(G.a,{name:"John Smith",size:"s"}),l.a.createElement(X.a,{className:"euiHeaderNotification"},"3"));return l.a.createElement(H.a,{id:"headerUserMenu",ownFocus:!0,button:t,isOpen:this.state.isOpen,anchorPosition:"downRight",closePopover:this.closeMenu,panelPaddingSize:"none"},l.a.createElement("div",{style:{width:320}},l.a.createElement(O.a,{gutterSize:"m",className:"euiHeaderProfile",responsive:!1},l.a.createElement(N.a,{grow:!1},l.a.createElement(G.a,{name:"John Smith",size:"xl"})),l.a.createElement(N.a,null,l.a.createElement(q.a,null,l.a.createElement("p",null,"John Smith")),l.a.createElement(k.a,{size:"m"}),l.a.createElement(O.a,null,l.a.createElement(N.a,null,l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,{grow:!1},l.a.createElement(K.a,{href:""},"Edit profile")),l.a.createElement(N.a,{grow:!1},l.a.createElement(K.a,{onClick:function(){return e.props.onLogoutClick()}},"Log out")))))))))}}]),t}(n.Component),Q=a(1103),$=a(1090),ee=a(1091),te=a(92),ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).isListExtended=function(){return a.state.spaces.length>4},a.onMenuButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.closePopover=function(){a.setState({isOpen:!1})},a.onChange=function(e){a.setState({spaces:e,selectedSpace:e.filter((function(e){return e.checked}))[0],isOpen:!1})},a.addMoreSpaces=function(){a.setState({spaces:a.spaces.concat(a.additionalSpaces)})},a.spaces=[{label:"Sales team",prepend:l.a.createElement(G.a,{type:"space",name:"Sales Team",size:"s"}),checked:"on"},{label:"Engineering",prepend:l.a.createElement(G.a,{type:"space",name:"Engineering",size:"s"})},{label:"Security",prepend:l.a.createElement(G.a,{type:"space",name:"Security",size:"s"})},{label:"Default",prepend:l.a.createElement(G.a,{type:"space",name:"Default",size:"s"})}],a.additionalSpaces=[{label:"Sales team 2",prepend:l.a.createElement(G.a,{type:"space",name:"Sales Team 2",size:"s"})},{label:"Engineering 2",prepend:l.a.createElement(G.a,{type:"space",name:"Engineering 2",size:"s"})},{label:"Security 2",prepend:l.a.createElement(G.a,{type:"space",name:"Security 2",size:"s"})},{label:"Default 2",prepend:l.a.createElement(G.a,{type:"space",name:"Default 2",size:"s"})}],a.state={spaces:a.spaces,selectedSpace:a.spaces.filter((function(e){return e.checked}))[0],isOpen:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedSpace,n=t.isOpen,o=t.spaces,s=l.a.createElement(D.a,{"aria-controls":"headerSpacesMenuList","aria-expanded":n,"aria-haspopup":"true","aria-label":"Apps menu",onClick:this.onMenuButtonClick},a.prepend);return l.a.createElement(H.a,{id:"headerSpacesMenu",ownFocus:!0,button:s,isOpen:n,anchorPosition:"downLeft",closePopover:this.closePopover,panelPaddingSize:"none"},l.a.createElement(Q.a,{searchable:this.isListExtended(),searchProps:{placeholder:"Find a space",compressed:!0},options:o,singleSelection:"always",style:{width:300},onChange:this.onChange,listProps:{rowHeight:40,showIcons:!1}},(function(t,a){return l.a.createElement(te.Fragment,null,l.a.createElement($.a,null,a||"Your spaces"),t,l.a.createElement(ee.a,null,l.a.createElement(S.a,{size:"s",fullWidth:!0,onClick:e.addMoreSpaces,disabled:e.isListExtended()},"Add more spaces")))})))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){console.log("logout-click-state-lift"),a.setState({authenticated:!1})},a.openSketchPad=function(e){a.setState({editJourney:!0})},a.state={authenticated:!0,editJourney:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"renderLogo",value:function(){return l.a.createElement(z.a,{iconType:"logoKibana",href:"#","aria-label":"Go to home page"})}},{key:"renderBreadcrumbs",value:function(){var e=[{text:"Management",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked management")},"data-test-subj":"breadcrumbsAnimals",className:"customClass"},{text:"Truncation test is here for a really long item",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked truncation test")}},{text:"hidden",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked hidden")}},{text:"Users",href:"#",onClick:function(e){e.preventDefault(),console.log("You clicked users")}},{text:"Create"}];return l.a.createElement(M.a,{breadcrumbs:e})}},{key:"renderSearch",value:function(){return l.a.createElement(D.a,{"aria-label":"Search"},l.a.createElement(I.a,{type:"search",size:"m"}))}},{key:"render",value:function(){var e=this;return this.state.authenticated?this.state.editJourney?l.a.createElement(c.a,{to:"/sketchpad"}):l.a.createElement(n.Fragment,null,l.a.createElement(A.a,null,l.a.createElement(F.a,{grow:!1},l.a.createElement(W.a,{border:"right"},this.renderLogo()),l.a.createElement(W.a,{border:"right"},l.a.createElement(ae,null))),this.renderBreadcrumbs(),l.a.createElement(F.a,{side:"right"},l.a.createElement(W.a,null,this.renderSearch()),l.a.createElement(W.a,null,l.a.createElement(Z,{onLogoutClick:function(){return e.handleLogout()}})),l.a.createElement(W.a,null,l.a.createElement(V,null)))),l.a.createElement(f.a,null,l.a.createElement(g.a,null,l.a.createElement(h.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{size:"l"},l.a.createElement("h1",null,"Journeys")))),l.a.createElement(O.a,null,l.a.createElement(N.a,null,l.a.createElement(j.a,null,l.a.createElement(E.a,null,l.a.createElement(_.a,null,l.a.createElement(S.a,{fill:!0,onClick:this.openSketchPad},"Create Journey"))),l.a.createElement(w.a,null,l.a.createElement(U.a,{paddingSize:"m",hasShadow:!0,style:{marginBottom:10}},l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,null,l.a.createElement(q.a,null,"Frequent user flow")),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View")))),l.a.createElement(U.a,{paddingSize:"m",hasShadow:!0,style:{marginBottom:10}},l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,null,l.a.createElement(q.a,null,"Rare user flow")),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View")))),l.a.createElement(U.a,{paddingSize:"m",hasShadow:!0,style:{marginBottom:10}},l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,null,l.a.createElement(q.a,null,"Addicted user flow")),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{color:"secondary",fill:!0,size:"s",onClick:this.openSketchPad},"View"))))))))))):l.a.createElement(c.a,{to:"/login"})}}]),t}(l.a.Component),le=a(241),oe=a(1100),se=a(1109),ie=(a(469),a(74)),ce=a(237),re=a(1096),de=a(1097),pe=a(239),ue=a(1098),me=a(1106),fe=a(1099),ge=a(1108),he=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).options=void 0,a.state={value:"option_one"},a.onChange=function(e){a.setState({value:e})},a.options=[{value:"option_one",inputDisplay:"Option one",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option one"),l.a.createElement(q.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_two",inputDisplay:"Option two",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option two"),l.a.createElement(q.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))},{value:"option_three",inputDisplay:"Option three",dropdownDisplay:l.a.createElement(n.Fragment,null,l.a.createElement("strong",null,"Option three"),l.a.createElement(q.a,{size:"s",color:"subdued"},l.a.createElement("p",{className:"euiTextColor--subdued"},"Has a short description giving more detail to the option.")))}],a.state={value:"option_one"},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(ge.a,{options:this.options,valueOfSelected:this.state.value,onChange:this.onChange,itemLayoutAlign:"top",hasDividers:!0})}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).tabs=void 0,a.state={isFlyoutVisible:!1,isSwitchChecked:!0,selectedTabId:"1",isPopoverOpen:!1},a.onSwitchChange=function(){a.setState({isSwitchChecked:!a.state.isSwitchChecked})},a.closePopover=function(){a.setState({isPopoverOpen:!1})},a.togglePopover=function(){a.setState((function(e){return{isPopoverOpen:!e.isPopoverOpen}}))},a.onSelectedTabChanged=function(e){a.setState({selectedTabId:e})},a.state={isFlyoutVisible:!1,isSwitchChecked:!0,selectedTabId:"1",isPopoverOpen:!1},a.tabs=[{id:"1",name:"Tab 1"},{id:"2",name:"Tab 2"}],a.closeFlyout=a.closeFlyout.bind(Object(ie.a)(a)),a.showFlyout=a.showFlyout.bind(Object(ie.a)(a)),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"closeFlyout",value:function(){this.setState({isFlyoutVisible:!1})}},{key:"showFlyout",value:function(){this.setState({isFlyoutVisible:!0})}},{key:"renderTabs",value:function(){var e=this;return this.tabs.map((function(t,a){return l.a.createElement(ce.a,{onClick:function(){return e.onSelectedTabChanged(t.id)},isSelected:t.id===e.state.selectedTabId,key:a},t.name)}))}},{key:"render",value:function(){var e=l.a.createElement(q.a,null,l.a.createElement("p",null,"Far out in the uncharted backwaters of the unfashionable end of the western spiral arm of the Galaxy lies a small unregarded yellow sun."),l.a.createElement("p",null,"Orbiting this at a distance of roughly ninety-two million miles is an utterly insignificant little blue green planet whose ape- descended life forms are so amazingly primitive that they still think digital watches are a pretty neat idea."),l.a.createElement("ul",null,l.a.createElement("li",null,"List item one"),l.a.createElement("li",null,"List item two"),l.a.createElement("li",null,"Dolphins")),l.a.createElement("p",null,"This planet has - or rather had - a problem, which was this: most of the people living on it were unhappy for pretty much of the time. Many solutions were suggested for this problem, but most of these were largely concerned with the movements of small green pieces of paper, which is odd because on the whole it was not the small green pieces of paper that were unhappy."),l.a.createElement("h2",null,"This is Heading Two"),l.a.createElement("ol",null,l.a.createElement("li",null,"Number one"),l.a.createElement("li",null,"Number two"),l.a.createElement("li",null,"Dolphins again")),l.a.createElement("p",null,"But the dog wasn\u2019t lazy, it was just practicing mindfulness, so it had a greater sense of life-satisfaction than that fox with all its silly jumping."),l.a.createElement("p",null,"And from the fox\u2019s perspective, life was full of hoops to jump"," ",l.a.createElement("em",null,"through"),", low-hanging fruit to jump ",l.a.createElement("em",null,"for"),", and dead car batteries to jump-",l.a.createElement("em",null,"start"),"."),l.a.createElement("h3",null,"This is Heading Three"),l.a.createElement("p",null,"So it thought the dog was making a poor life choice by focusing so much on mindfulness. What if its car broke down?")),t=this.props.closeSettings;return l.a.createElement(re.a,{onClose:this.closeFlyout,hideCloseButton:!0,"aria-labelledby":"flyoutComplicatedTitle"},l.a.createElement(de.a,{hasBorder:!0},l.a.createElement(b.a,{size:"m"},l.a.createElement("h2",{id:"flyoutComplicatedTitle"},"Flyout header")),l.a.createElement(k.a,{size:"s"}),l.a.createElement(q.a,{color:"subdued"},l.a.createElement("p",null,"Put navigation items in the header, and cross tab actions in a footer.")),l.a.createElement(pe.a,{style:{marginBottom:"-25px"}},this.renderTabs())),l.a.createElement(ue.a,null,l.a.createElement(H.a,{closePopover:this.closePopover,button:l.a.createElement(S.a,{onClick:this.togglePopover},"Even popovers can be included"),isOpen:this.state.isPopoverOpen},l.a.createElement("p",null,"This is the popover content, notice how it can overflow the flyout!")),l.a.createElement(k.a,{size:"m"}),l.a.createElement(y.a,null,l.a.createElement(C.a,{label:"A SuperSelect field"},l.a.createElement(he,null))),l.a.createElement(k.a,null),e,l.a.createElement(me.a,{language:"html"},"\x3c!--I'm an example of HTML--\x3e\n                    <div>\n                    asdf\n                    </div>\n                    ")),l.a.createElement(fe.a,null,l.a.createElement(O.a,{justifyContent:"spaceBetween"},l.a.createElement(N.a,{grow:!1},l.a.createElement(oe.a,{iconType:"cross",onClick:t,flush:"left"},"Close")),l.a.createElement(N.a,{grow:!1},l.a.createElement(S.a,{onClick:this.closeFlyout,fill:!0},"Save")))))}}]),t}(n.Component),be=a(1101),ke=a(99),je=a.n(ke),Ee=a(59),_e=a.n(Ee),we=a(100),ye=a.n(we),Ce=a(60),xe=a.n(Ce),Te=a(61),Ne=a.n(Te),Se=a(101),Re=a.n(Se),Oe=a(62),Be=a.n(Oe),Le=[{id:"triggers",name:"Triggers",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"1"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:je.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Enter Workflow"),l.a.createElement("p",{className:"blockdesc"},"Triggers when somebody visits a specified page")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"2"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:_e.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Event occurred"),l.a.createElement("p",{className:"blockdesc"},"Triggers when somebody performs a specified action")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"3"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:ye.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Time has passed"),l.a.createElement("p",{className:"blockdesc"},"Triggers after a specified amount of time")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"4"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:xe.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Exit Workflow"),l.a.createElement("p",{className:"blockdesc"},"Triggers when a specified error happens")))))},{id:"actions",name:"Actions",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"5"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ne.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"New database entry"),l.a.createElement("p",{className:"blockdesc"},"Adds a new entry to a specified database")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"6"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Ne.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Update database"),l.a.createElement("p",{className:"blockdesc"},"Edits and deletes database entries and properties")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"7"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:_e.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Perform an action"),l.a.createElement("p",{className:"blockdesc"},"Performs or edits a specified action")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"8"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Re.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Make a tweet"),l.a.createElement("p",{className:"blockdesc"},"Makes a tweet with a specified query")))))},{id:"loggers",name:"Loggers",content:l.a.createElement("div",{className:"blocklist"},l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"9"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Be.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Add new log entry"),l.a.createElement("p",{className:"blockdesc"},"Adds a new log entry to this project")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"10"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:Be.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Update logs"),l.a.createElement("p",{className:"blockdesc"},"Edits and deletes log entries in this project")))),l.a.createElement("div",{className:"blockelem create-flowy noselect"},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:"11"}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:xe.a,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},"Prompt an error"),l.a.createElement("p",{className:"blockdesc"},"Triggers a specified error")))))}],Pe=function(){return l.a.createElement(be.a,{tabs:Le,initialSelectedTab:Le[0],onTabClick:function(e){},expand:!0,size:"s"})},ze=[{icon:je.a,title:"Enter Workflow",desc:"Triggers when somebody visits a specified page"},{icon:_e.a,title:"Event occurred",desc:"Triggers when somebody performs a specified action"},{icon:ye.a,title:"Time has passed",desc:"Triggers after a specified amount of time"},{icon:xe.a,title:"Exit Workflow",desc:"Triggers when a specified error happens"},{icon:Ne.a,title:"New database entry",desc:"Adds a new entry to a specified database"},{icon:Ne.a,title:"Update database",desc:"Edits and deletes database entries and properties"},{icon:_e.a,title:"Perform an action",desc:"Performs or edits a specified action"},{icon:Re.a,title:"Make a tweet",desc:"Makes a tweet with a specified query"},{icon:Be.a,title:"Add new log entry",desc:"Adds a new log entry to this project"},{icon:Be.a,title:"Update logs",desc:"Edits and deletes log entries in this project"},{icon:xe.a,title:"Prompt an error",desc:"Triggers a specified error"}],Me=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).dragRef=void 0,a.dragRef=l.a.createRef(),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setDragRef)(this.dragRef.current)}},{key:"componentWillUnmount",value:function(){(0,this.props.setDragRef)(null)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id;return l.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:t,top:a},ref:this.dragRef},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),l.a.createElement("div",{className:"blockin"},l.a.createElement("div",{className:"blockico"},l.a.createElement("span",null),l.a.createElement("img",{src:ze[n-1].icon,alt:""})),l.a.createElement("div",{className:"blocktext"},l.a.createElement("p",{className:"blocktitle"},ze[n-1].title),l.a.createElement("p",{className:"blockdesc"},ze[n-1].desc))),l.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}))}}]),t}(n.Component),De=a(1102),Ie=a(240),Ae=a(76),Fe=a.n(Ae),We=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).state={isPopoverOpen:!1},a.onButtonClick=function(){a.setState({isPopoverOpen:!a.state.isPopoverOpen})},a.closePopover=function(){a.setState({isPopoverOpen:!1})},a.triggerDelete=function(){var e=a.props,t=e.id;(0,e.deleteBlock)(t)},a.state={isPopoverOpen:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.openConfigurator,t=l.a.createElement("div",{className:"blockyright",onClick:this.onButtonClick},l.a.createElement("img",{src:Fe.a,alt:""}));return l.a.createElement(H.a,{ownFocus:!0,button:t,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,anchorPosition:"rightCenter",panelPaddingSize:"none"},l.a.createElement(De.a,null,l.a.createElement(Ie.a,{id:"confCard",iconType:"gear",onClick:e,label:"Configure",size:"m"}),l.a.createElement(Ie.a,{id:"deleteCard",iconType:"trash",onClick:this.triggerDelete,label:"Delete",size:"m"})))}}]),t}(n.Component),Ue=a(102),qe=a.n(Ue),He=a(103),Je=a.n(He),Ye=a(104),Ve=a.n(Ye),Ge=a(105),Xe=a.n(Ge),Ke=a(63),Ze=a.n(Ke),Qe=a(106),$e=a.n(Qe),et=a(107),tt=a.n(et),at=a(64),nt=a.n(at),lt=a(108),ot=a.n(lt),st=[{icon:qe.a,title:"Enter Workflow",desc:"When a <span>New User</span> goes to <span>Site 1</span>"},{icon:Je.a,title:"Event occurred",desc:"When <span>Action 1</span> is performed"},{icon:Ve.a,title:"Time has passed",desc:"When <span>10 seconds</span> have passed"},{icon:Xe.a,title:"Exit Workflow",desc:"When <span>10 seconds</span> have passed"},{icon:Ze.a,title:"New database entry",desc:"Add <span>Data object</span> to <span>Database 1</span>"},{icon:Ze.a,title:"Update database",desc:"Update <span>Database 1</span>"},{icon:tt.a,title:"Perform an action",desc:"Perform <span>Action 1</span>"},{icon:$e.a,title:"Make a tweet",desc:"Tweet <span>Query 1</span> with the account <span>@twitter</span>"},{icon:nt.a,title:"Add new log entry",desc:"Add new <span>success</span> log entry"},{icon:nt.a,title:"Update logs",desc:"Edit <span>Log Entry 1</span>"},{icon:ot.a,title:"Prompt an error",desc:"Trigger <span>Exit</span>"}],it={left:{top:"50%",left:"0%"},top:{top:"0%",left:"50%"},right:{top:"50%",left:"100%"},bottom:{top:"100%",left:"50%"}},ct=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).flowRef=void 0,a.flowRef=l.a.createRef(),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setFlowRef)(e.id,this.flowRef.current)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id,s=e.link,i=e.openConfigurator,c=e.deleteBlock;return l.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:t,top:a},ref:this.flowRef},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),l.a.createElement("div",{className:"blockyleft"},l.a.createElement("img",{width:"25",height:"25",src:st[n-1].icon,alt:""}),l.a.createElement("p",{className:"blockyname"},st[n-1].title)),l.a.createElement(We,{id:o,openConfigurator:i,deleteBlock:c}),l.a.createElement("div",{className:"blockydiv"}),l.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:st[n-1].desc}}),l.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}),l.a.createElement("div",{className:"indicator ".concat(s.show?"":"invisible"),style:it[s.position]}))}}]),t}(n.Component),rt=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.path1,n=e.path2,o=e.left,s=e.top;return l.a.createElement("div",{className:"arrowblock",style:{left:o,top:s}},l.a.createElement("input",{type:"hidden",className:"arrowid",value:t}),l.a.createElement("svg",{preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:a,stroke:"#C5CCD0",strokeWidth:"2px"}),l.a.createElement("path",{d:n,fill:"#C5CCD0"})))}}]),t}(n.Component),dt=[{icon:qe.a,title:"Enter Workflow",desc:"When a <span>New User</span> goes to <span>Site 1</span>"},{icon:Je.a,title:"Event occurred",desc:"When <span>Action 1</span> is performed"},{icon:Ve.a,title:"Time has passed",desc:"When <span>10 seconds</span> have passed"},{icon:Xe.a,title:"Exit Workflow",desc:"When <span>10 seconds</span> have passed"},{icon:Ze.a,title:"New database entry",desc:"Add <span>Data object</span> to <span>Database 1</span>"},{icon:Ze.a,title:"Update database",desc:"Update <span>Database 1</span>"},{icon:tt.a,title:"Perform an action",desc:"Perform <span>Action 1</span>"},{icon:$e.a,title:"Make a tweet",desc:"Tweet <span>Query 1</span> with the account <span>@twitter</span>"},{icon:nt.a,title:"Add new log entry",desc:"Add new <span>success</span> log entry"},{icon:nt.a,title:"Update logs",desc:"Edit <span>Log Entry 1</span>"},{icon:ot.a,title:"Prompt an error",desc:"Trigger <span>Exit</span>"}],pt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).tempRef=void 0,a.tempRef=l.a.createRef(),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setTempRef,a={};a[e.id]=this.tempRef.current,t(a)}},{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,n=e.type,o=e.id,s=e.blocksTemp,i=e.arrowsTemp;return l.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:t,top:a},ref:this.tempRef},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:n}),l.a.createElement("div",{className:"blockyleft"},l.a.createElement("img",{width:"25",height:"25",src:dt[n-1].icon,alt:""}),l.a.createElement("p",{className:"blockyname"},dt[n-1].title)),l.a.createElement("div",{className:"blockyright"},l.a.createElement("img",{src:Fe.a,alt:""})),l.a.createElement("div",{className:"blockydiv"}),l.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:dt[n-1].desc}}),l.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:o}),s?s.map((function(e,t){return l.a.createElement("div",{className:"blockelem noselect block dragging",style:{left:e.left,top:e.top},key:"--".concat(t)},l.a.createElement("input",{type:"hidden",name:"blockelemtype",className:"blockelemtype",value:e.type}),l.a.createElement("div",{className:"blockyleft"},l.a.createElement("img",{width:"25",height:"25",src:dt[e.type-1].icon,alt:""}),l.a.createElement("p",{className:"blockyname"},dt[e.type-1].title)),l.a.createElement("div",{className:"blockyright"},l.a.createElement("img",{src:Fe.a,alt:""})),l.a.createElement("div",{className:"blockydiv"}),l.a.createElement("div",{className:"blockyinfo",dangerouslySetInnerHTML:{__html:dt[e.type-1].desc}}),l.a.createElement("input",{type:"hidden",name:"blockid",className:"blockid",value:e.id}))})):null,i?i.map((function(e,t){return l.a.createElement("div",{className:"arrowblock",style:{left:e.left,top:e.top},key:"__".concat(t)},l.a.createElement("input",{type:"hidden",className:"arrowid",value:e.id}),l.a.createElement("svg",{preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:e.path1,stroke:"#C5CCD0",strokeWidth:"2px"}),l.a.createElement("path",{d:e.path2,fill:"#C5CCD0"})))})):null)}}]),t}(n.Component),ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).state={showSettings:!1,editMode:a.props.editMode,draggedBlock:null,blocks:[],arrows:[],blocksTemp:[],arrowsTemp:[]},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=void 0,a.blocks=void 0,a.blocksTemp=void 0,a.arrows=void 0,a.arrowsTemp=void 0,a.canvas_div=void 0,a.active=void 0,a.paddingx=void 0,a.paddingy=void 0,a.offsetleft=void 0,a.offsetleftold=void 0,a.rearrange=void 0,a.lastevent=void 0,a.dragx=void 0,a.dragy=void 0,a.original=void 0,a.drag=void 0,a.dragId=void 0,a.mouse_x=void 0,a.mouse_y=void 0,a.dragblock=void 0,a.link=void 0,a.canvasRef=void 0,a.flowRef=void 0,a.chartData=void 0,a.rightcard=void 0,a.tempblock=void 0,a.editMode=void 0,a.openConfigurator=function(){a.setState({showSettings:!0})},a.closeSettings=function(){a.setState({showSettings:!1})},a.blockGrabbed=function(e){e.classList.add("blockdisabled"),a.tempblock2=e},a.import=function(e){a.setState({blocks:e.blocks.slice(),arrows:e.arrows.slice()})},a.output=function(){return{blocks:a.blocks.slice(),arows:a.arrows.slice()}},a.clearSketch=function(){a.flowRef={},a.blocks=[],a.arrows=[],a.setState({blocks:a.blocks.slice(),arrows:a.arrows.slice()})},a.deleteBlock=function(e){if(a.blocks=a.blocks.filter((function(t){return t.id!==e})),0!==e){var t=a.arrows.findIndex((function(t){return t.id===e}));t>-1&&a.arrows.splice(t,1)}for(var n=a.blocks.slice().filter((function(t){return t.parent===e})),l=!1,o=[];!l;){for(var s=function(t){if(n[t]!==e){var l=a.blocks.findIndex((function(e){return e.id===n[t].id})),s=a.arrows.findIndex((function(e){return e.id===n[t].id}));a.blocks.splice(l,1),a.arrows.splice(s,1),o.push(n[t].id)}},i=0;i<n.length;i++)s(i);0===o.length?l=!0:(n=a.blocks.filter((function(e){return o.includes(e.parent)})),o=[])}a.blocks.length>1&&a.rearrangeMe(),a.lastevent&&a.fixOffset(),a.draw()},a.beginDrag=function(e){if(e.targetTouches?(a.mouse_x=e.changedTouches[0].clientX,a.mouse_y=e.changedTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),3!==e.which&&e.target.closest(".create-flowy")){a.original=e.target.closest(".create-flowy");var t=Number(a.original.querySelector(".blockelemtype").value),n=0;n=0===a.blocks.length?0:Math.max.apply(Math,a.blocks.map((function(e){return e.id})))+1,a.dragId=n,a.blockGrabbed(e.target.closest(".create-flowy")),a.active=!0,a.dragx=a.mouse_x-e.target.closest(".create-flowy").offsetLeft,a.dragy=a.mouse_y-e.target.closest(".create-flowy").offsetTop;var l=a.mouse_x-a.dragx,o=a.mouse_y-a.dragy;a.setState({draggedBlock:{type:t,id:n,left:l,top:o}})}},a.touchDone=function(){a.dragblock=!1},a.endDrag=function(e){if(3!==e.which&&(a.active||a.rearrange)){a.dragblock=!1,a.blockReleased();var t=a.dragId,n=a.blocksTemp.filter((function(e){return e.id===t}))[0],l=Number(a.drag.querySelector(".blockelemtype").value),o=!!n&&-1===n.parent;if(a.active&&a.original.classList.remove("dragnow"),o&&a.rearrange)if(a.link)!function(){for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){var o=a.blocks.filter((function(e){return e.id===n[l]}))[0];if(e>=o.x-o.width/2-a.paddingx&&e<=o.x+o.width/2+a.paddingx&&t>=o.y-o.height/2&&t<=o.y+o.height)return a.active=!1,a.snap(n[l]),"break"},o=0;o<a.blocks.length;o++){if("break"===l(o))break}a.link=!1}();else{a.rearrange=!1;var s=a.blocksTemp.slice()[0],i=s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;s.x=i+s.width/2,s.y=c+s.height/2,a.blocksTemp[0]=s;for(var r=function(e){if(a.blocksTemp[e].id!==a.dragId){var t=a.blocksTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),n=a.arrowsTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),l=a.blocksTemp.slice()[t],o=a.arrowsTemp.slice()[n],i=l.left+s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=l.top+s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,r=o.left+s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=o.top+s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=i-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,u=c-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;l.left=p,l.top=u;var m=r-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,f=d-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;o.left=m,o.top=f,l.x=p+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft+l.width/2+a.canvas_div.scrollLeft,l.y=u+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop+l.height/2+a.canvas_div.scrollTop,a.blocksTemp[t]=l,a.arrowsTemp[n]=o}},d=0;d<a.blocksTemp.length;d++)r(d);a.blocks=a.blocks.concat(a.blocksTemp),a.blocksTemp=[],a.arrows=a.arrows.concat(a.arrowsTemp),a.arrowsTemp=[]}else if(a.active&&!a.link&&a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left){a.active=!1;var p=a.drag.getBoundingClientRect().top-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop,u=a.drag.getBoundingClientRect().left-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft;a.setState({draggedBlock:null}),a.blockSnap({left:u,top:p,type:l,id:t}),a.blocks.push({parent:-1,childwidth:0,id:t,x:a.flowRef[t].getBoundingClientRect().left+parseInt(window.getComputedStyle(a.flowRef[t]).width)/2+a.canvas_div.scrollLeft,y:a.flowRef[t].getBoundingClientRect().top+parseInt(window.getComputedStyle(a.flowRef[t]).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.flowRef[t]).width),height:parseInt(window.getComputedStyle(a.flowRef[t]).height),left:u,top:p,type:l,link:{show:!1,position:"bottom"}})}else(a.active||a.rearrange)&&function(){a.link=!1;for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){var o=a.blocks.filter((function(e){return e.id===n[l]}))[0];return e>=o.x-o.width/2-a.paddingx&&e<=o.x+o.width/2+a.paddingx&&t>=o.y-o.height/2&&t<=o.y+o.height?(a.active=!1,a.rearrange?a.rearrange&&a.snap(n[l]):a.snap(n[l]),"break"):l===a.blocks.length-1?(console.log("DRAG-END_END"),a.drag.getBoundingClientRect().top>a.canvas_div.getBoundingClientRect().top&&a.drag.getBoundingClientRect().left>a.canvas_div.getBoundingClientRect().left||a.setState({draggedBlock:null}),a.rearrange=!1,a.active=!1,"break"):void 0},o=0;o<a.blocks.length;o++){if("break"===l(o))break}}();a.hideConnector(),a.draw()}},a.snap=function(e){for(var t=a.dragId,n=Number(a.drag.querySelector(".blockelemtype").value),l=0,o=0,s=0;s<a.blocks.filter((function(t){return t.parent===e})).length;s++){var i=a.blocks.filter((function(t){return t.parent===e}))[s];i.childwidth>i.width?l+=i.childwidth+a.paddingx:l+=i.width+a.paddingx}l+=parseInt(window.getComputedStyle(a.drag).width);for(var c=function(t){var n=a.blocks.filter((function(t){return t.parent===e}))[t];if(n.childwidth>n.width){var s=a.blocks.findIndex((function(e){return e.id===n.id})),i=a.blocks.slice()[s],c=a.blocks.filter((function(t){return t.id===e}))[0].x-l/2+o+n.childwidth/2-n.width/2;i.left=c,a.blocks[s]=i,n.x=a.blocks.filter((function(t){return t.parent===e}))[0].x-l/2+o+n.childwidth/2,o+=n.childwidth+a.paddingx}else{var r=a.blocks.findIndex((function(e){return e.id===n.id})),d=a.blocks.slice()[r],p=a.blocks.filter((function(t){return t.id===e}))[0].x-l/2+o;d.left=p,a.blocks[r]=d,n.x=a.blocks.filter((function(t){return t.parent===e}))[0].x-l/2+o+n.width/2,o+=n.width+a.paddingx}},r=0;r<a.blocks.filter((function(t){return t.parent===e})).length;r++)c(r);var d=a.blocks.filter((function(t){return t.id===e}))[0].x-l/2+o-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,p=a.blocks.filter((function(t){return t.id===e}))[0].y+a.blocks.filter((function(t){return t.id===e}))[0].height/2+a.paddingy-a.canvas_div.getBoundingClientRect().top;if(a.rearrange){var u=a.blocksTemp.slice()[0];u.left=d,u.top=p;var m=d+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,f=p+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;u.x=m+u.width/2+a.canvas_div.scrollLeft,u.y=f+u.height/2+a.canvas_div.scrollTop,u.parent=e,a.blocksTemp[0]=u;for(var g=function(e){if(a.blocksTemp[e].id!==t){var n=a.blocksTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),l=a.arrowsTemp.findIndex((function(t){return t.id===a.blocksTemp[e].id})),o=a.blocksTemp.slice()[n],s=a.arrowsTemp.slice()[l],i=o.left+u.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,c=o.top+u.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,r=s.left+u.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=s.top+u.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=i-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,m=c-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;o.left=p,o.top=m;var f=r-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft+20,g=d-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;s.left=f,s.top=g,o.x=p+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft+o.width/2+a.canvas_div.scrollLeft,o.y=m+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop+o.height/2+a.canvas_div.scrollTop,a.blocksTemp[n]=o,a.arrowsTemp[l]=s}},h=0;h<a.blocksTemp.length;h++)g(h);a.blocks=a.blocks.concat(a.blocksTemp),a.blocksTemp=[],a.arrows=a.arrows.concat(a.arrowsTemp),a.arrowsTemp=[]}else a.setState({draggedBlock:null}),a.blockSnap({left:d,top:p,type:n,id:t}),a.blocks.push({childwidth:0,parent:e,id:t,x:a.flowRef[t].getBoundingClientRect().left+parseInt(window.getComputedStyle(a.flowRef[t]).width)/2+a.canvas_div.scrollLeft,y:a.flowRef[t].getBoundingClientRect().top+parseInt(window.getComputedStyle(a.flowRef[t]).height)/2+a.canvas_div.scrollTop,width:parseInt(window.getComputedStyle(a.flowRef[t]).width),height:parseInt(window.getComputedStyle(a.flowRef[t]).height),left:d,top:p,type:n,link:{show:!1,position:"bottom"}});var v,b=a.blocks.filter((function(e){return e.id===t}))[0],k=b.x-a.blocks.filter((function(t){return t.id===e}))[0].x+20,j=parseFloat(b.y-b.height/2-(a.blocks.filter((function(t){return t.parent===e}))[0].y+a.blocks.filter((function(t){return t.parent===e}))[0].height/2)+a.canvas_div.scrollTop),E="",_="",w=0;k<0?(E="M ".concat(a.blocks.filter((function(t){return t.id===e}))[0].x-b.x+5," 0L").concat(a.blocks.filter((function(t){return t.id===e}))[0].x-b.x+5," ").concat(a.paddingy/2,"L5 ").concat(a.paddingy/2,"  L5 ").concat(j),_="M0 ".concat(j-5," H10L5 ").concat(j,"L0 ").concat(j-5," Z"),w=b.x-5-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft):(E="M20 0L20 ".concat(a.paddingy/2,"L").concat(k," ").concat(a.paddingy/2,"L").concat(k," ").concat(j),_="M".concat(k-5," ").concat(j-5,"H").concat(k+5,"L").concat(k," ").concat(j,"L").concat(k-5," ").concat(j-5," Z"),w=a.blocks.filter((function(t){return t.id===e}))[0].x-20-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft),v=a.blocks.filter((function(t){return t.id===e}))[0].y+a.blocks.filter((function(t){return t.id===e}))[0].height/2,a.arrows.push({id:t,path1:E,path2:_,left:w,top:v}),-1!==a.blocks.filter((function(t){return t.id===e}))[0].parent&&function(){for(var t=!1,n=e;!t;)if(-1===a.blocks.filter((function(e){return e.id===n}))[0].parent)t=!0;else{for(var o=0,s=0;s<a.blocks.filter((function(e){return e.parent===n})).length;s++){var i=a.blocks.filter((function(e){return e.parent===n}))[s];i.childwidth>i.width?s===a.blocks.filter((function(e){return e.parent===n})).length-1?o+=i.childwidth:o+=i.childwidth+a.paddingx:s===a.blocks.filter((function(e){return e.parent===n})).length-1?o+=i.width:o+=i.width+a.paddingx}a.blocks.filter((function(e){return e.id===n}))[0].childwidth=o,n=a.blocks.filter((function(e){return e.id===n}))[0].parent}a.blocks.filter((function(e){return e.id===n}))[0].childwidth=l}(),a.rearrange&&(a.rearrange=!1),a.rearrangeMe(),a.checkOffset()},a.rearrangeMe=function(){for(var e=a.blocks.map((function(e){return e.parent})),t=function(t){if(-1===e[t]){if(!(t+1<e.length))return n=t,"break";t++}for(var l=0,o=0,s=function(n){var o=a.blocks.filter((function(a){return a.parent===e[t]}))[n];0===a.blocks.filter((function(e){return e.parent===o.id})).length&&(o.childwidth=0),o.childwidth>o.width?n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?l+=o.childwidth:l+=o.childwidth+a.paddingx:n===a.blocks.filter((function(a){return a.parent===e[t]})).length-1?l+=o.width:l+=o.width+a.paddingx},i=0;i<a.blocks.filter((function(a){return a.parent===e[t]})).length;i++)s(i);-1!==e[t]&&(a.blocks.filter((function(a){return a.id===e[t]}))[0].childwidth=l);for(var c=function(n){var s=a.blocks.filter((function(a){return a.parent===e[t]}))[n],i=a.blocks.findIndex((function(e){return e.id===s.id})),c=a.blocks.slice()[i],r=a.blocks.slice().filter((function(a){return a.id===e[t]}));if(!r.length)return"break";var d=0;s.childwidth>s.width?(d=r[0].x-l/2+o+s.childwidth/2-s.width/2-a.canvas_div.getBoundingClientRect().left,s.x=r[0].x-l/2+o+s.childwidth/2,o+=s.childwidth+a.paddingx):(d=r[0].x-l/2+o-a.canvas_div.getBoundingClientRect().left,s.x=r[0].x-l/2+o+s.width/2,o+=s.width+a.paddingx),c.left=d,a.blocks[i]=c;var p=a.blocks.filter((function(e){return e.id===s.id}))[0],u=p.x-a.blocks.filter((function(e){return e.id===s.parent}))[0].x+20,m=p.y-p.height/2-(a.blocks.filter((function(e){return e.id===s.parent}))[0].y+a.blocks.filter((function(e){return e.id===s.parent}))[0].height/2),f=a.arrows.findIndex((function(e){return e.id===s.id})),g=a.blocks.filter((function(e){return e.id===s.parent}))[0].y+a.blocks.filter((function(e){return e.id===s.parent}))[0].height/2-a.canvas_div.getBoundingClientRect().top,h=0,v="",b="";u<0?(h=p.x-5-a.canvas_div.getBoundingClientRect().left,v="M".concat(a.blocks.filter((function(e){return e.id===s.parent}))[0].x-p.x+5,"  0L").concat(a.blocks.filter((function(e){return e.id===s.parent}))[0].x-p.x+5," ").concat(a.paddingy/2,"L5 ").concat(a.paddingy/2,"L5 ").concat(m),b="M0 ".concat(m-5,"H10L5 ").concat(m,"L0 ").concat(m-5,"Z")):(h=a.blocks.filter((function(e){return e.id===s.parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left,v="M20 0L20 ".concat(a.paddingy/2,"L").concat(u," ").concat(a.paddingy/2,"L").concat(u," ").concat(m),b="M".concat(u-5," ").concat(m-5,"H").concat(u+5,"L").concat(u," ").concat(m,"L").concat(u-5," ").concat(m-5,"Z")),a.arrows[f]={id:s.id,path1:v,path2:b,left:h,top:g}},r=0;r<a.blocks.filter((function(a){return a.parent===e[t]})).length;r++){if("break"===c(r))break}n=t},n=0;n<e.length;n++){if("break"===t(n))break}},a.checkOffset=function(){a.offsetleft=a.blocks.map((function(e){return e.x}));var e=a.blocks.map((function(e){return e.width})),t=a.offsetleft.map((function(t,a){return t-e[a]/2}));a.offsetleft=Math.min.apply(Math,t),a.offsetleft<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!0;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){var n=a.blocks.findIndex((function(a){return a.id===e[t]})),l=a.blocks.slice()[n],o=a.blocks.filter((function(a){return a.id===e[t]}))[0].x-a.blocks.filter((function(a){return a.id===e[t]}))[0].width/2-a.offsetleft+20;if(l.left=o,a.blocks[n]=l,-1!==a.blocks.filter((function(a){return a.id===e[t]}))[0].parent){var s=a.blocks.filter((function(a){return a.id===e[t]}))[0],i=s.x-a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x,c=a.arrows.findIndex((function(a){return a.id===e[t]})),r=0;r=i<0?s.x-a.offsetleft+20-5:a.blocks.filter((function(n){return n.id===a.blocks.filter((function(a){return a.id===e[t]}))[0].parent}))[0].x-20-a.offsetleft+20,a.arrows[c]={id:e[t],path1:a.arrows[c].path1,path2:a.arrows[c].path2,left:r,top:a.arrows[c].top}}},n=0;n<a.blocks.length;n++)t(n);for(var l=0;l<a.blocks.length;l++){var o=a.blocks.slice()[l],s=o.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft;o.x=s+(a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft)-o.width/2-40}a.offsetleftold=a.offsetleft}()},a.touchblock=function(e){if(a.dragblock=!1,a.hasParentClass(e.target,"block")){var t=e.target.closest(".block").querySelector(".blockid").value;e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY),"mouseup"!==e.type&&a.hasParentClass(e.target,"block")&&3!==e.which&&(a.active||a.rearrange||(a.dragblock=!0,a.dragId=Number(t),a.drag=a.flowRef[t],a.dragx=a.mouse_x-a.drag.getBoundingClientRect().left,a.dragy=a.mouse_y-a.drag.getBoundingClientRect().top))}},a.hasParentClass=function(e,t){return!!(e.className&&e.className.split&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&a.hasParentClass(e.parentNode,t)},a.moveBlock=function(e){e.targetTouches?(a.mouse_x=e.targetTouches[0].clientX,a.mouse_y=e.targetTouches[0].clientY):(a.mouse_x=e.clientX,a.mouse_y=e.clientY);var t=a.mouse_x-a.dragx,n=a.mouse_y-a.dragy;if(a.dragblock&&function(){a.rearrange=!0,a.drag.classList.add("dragging");var e=a.dragId;a.blocksTemp.push(a.blocks.slice().filter((function(t){return t.id===e}))[0]),a.blocksTemp[0].parent=-1;var t=a.blocksTemp[0].left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,n=a.blocksTemp[0].top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;if(a.blocks=a.blocks.filter((function(t){return t.id!==e})),0!==e){var l=a.arrows.findIndex((function(t){return t.id===e}));l>-1&&a.arrows.splice(l,1)}for(var o=a.blocks.slice().filter((function(t){return t.parent===e})),s=!1,i=[];!s;){for(var c=function(l){if(o[l]!==e){var s=a.blocks.slice().filter((function(e){return e.id===o[l].id}))[0],c=a.arrows.slice().filter((function(e){return e.id===o[l].id}))[0],r=s.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,d=s.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,p=c.left+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,u=c.top+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop,m=r-t,f=d-n,g=p-t,h=u-n;s.left=m,s.top=f,c.left=g,c.top=h,a.blocksTemp.push(s),a.arrowsTemp.push(Object(le.a)({},c));var v=a.blocks.findIndex((function(e){return e.id===s.id})),b=a.arrows.findIndex((function(e){return e.id===c.id}));a.blocks.splice(v,1),a.arrows.splice(b,1),i.push(o[l].id),c=null,s=null}},r=0;r<o.length;r++)c(r);0===i.length?s=!0:(o=a.blocks.filter((function(e){return i.includes(e.parent)})),i=[])}a.blocks.length>1&&a.rearrangeMe(),a.lastevent&&a.fixOffset(),a.dragblock=!1}(),a.active){var l=a.state.draggedBlock;l.left=t,l.top=n,a.setState({draggedBlock:l})}else if(a.rearrange){var o=a.blocksTemp.slice()[0],s=a.mouse_x-a.dragx-a.canvas_div.getBoundingClientRect().left+a.canvas_div.scrollLeft,i=a.mouse_y-a.dragy-a.canvas_div.getBoundingClientRect().top+a.canvas_div.scrollTop;o.left=s,o.top=i;var c=s+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft,r=i+a.canvas_div.getBoundingClientRect().top-a.canvas_div.scrollTop;o.x=c+o.width/2+a.canvas_div.scrollLeft,o.y=r+o.height/2+a.canvas_div.scrollTop,a.blocksTemp[0]=o}(a.active||a.rearrange)&&function(){for(var e=a.drag.getBoundingClientRect().left+parseInt(window.getComputedStyle(a.drag).width)/2+a.canvas_div.scrollLeft,t=a.drag.getBoundingClientRect().top+a.canvas_div.scrollTop,n=a.blocks.map((function(e){return e.id})),l=function(l){var o=a.blocks.filter((function(e){return e.id===n[l]}))[0];if(e>=o.x-o.width/2-a.paddingx&&e<=o.x+o.width/2+a.paddingx&&t>=o.y-o.height/2&&t<=o.y+o.height){a.link=!0;var s=a.blocks.findIndex((function(e){return e.id===n[l]})),i=a.blocks.slice()[s];return i.link={show:!0,position:"bottom"},a.blocks[s]=i,"break"}a.link=!1;var c=a.blocks.findIndex((function(e){return e.id===n[l]})),r=a.blocks.slice()[c];r.link={show:!1,position:"bottom"},a.blocks[c]=r},o=0;o<a.blocks.length;o++){if("break"===l(o))break}}(),a.draw()},a.fixOffset=function(){a.offsetleftold<a.canvas_div.getBoundingClientRect().left&&function(){a.lastevent=!1;for(var e=a.blocks.map((function(e){return e.id})),t=function(t){var n=a.blocks.findIndex((function(a){return a.id===e[t]})),l=a.blocks.slice()[n],o=l.x-l.width/2-a.offsetleftold-20;l.left=o;var s=o+a.canvas_div.getBoundingClientRect().left-a.canvas_div.scrollLeft;if(l.x=s+l.width/2,-1!==l.parent){var i=l,c=i.x-a.blocks.filter((function(e){return e.id===l.parent}))[0].x,r=a.arrows.findIndex((function(a){return a.id===e[t]})),d=0;d=c<0?i.x-5-a.canvas_div.getBoundingClientRect().left:a.blocks.filter((function(e){return e.id===l.parent}))[0].x-20-a.canvas_div.getBoundingClientRect().left;var p=a.arrows.slice()[r];p.left=d,a.arrows[r]=p}a.blocks[n]=l},n=0;n<a.blocks.length;n++)t(n);a.offsetleftold=0}()},a.startEdit=function(){a.editMode||(a.editMode=!0,a.setState({editMode:!0}),document.addEventListener("mousedown",a.touchblock,!1),document.addEventListener("touchstart",a.touchblock,!1),document.addEventListener("mouseup",a.touchblock,!1),document.addEventListener("mousedown",a.beginDrag),document.addEventListener("touchstart",a.beginDrag),document.addEventListener("mouseup",a.endDrag,!1),document.addEventListener("touchend",a.endDrag,!1),document.addEventListener("mousemove",a.moveBlock,!1),document.addEventListener("touchmove",a.moveBlock,!1))},a.exportData=function(){a.chartData=JSON.stringify(a.output()),localStorage.setItem("journey_1",a.chartData),a.clearSketch()},a.importData=function(){a.chartData=localStorage.getItem("journey_1"),a.chartData&&a.import(JSON.parse(a.chartData))},a.setDragRef=function(e){a.drag=e},a.setFlowRef=function(e,t){a.flowRef[e]=t},a.setTempRef=function(e){a.drag=e[a.dragId]},a.state={showSettings:!1,editMode:a.props.editMode,draggedBlock:null,blocks:[],arrows:[],blocksTemp:[],arrowsTemp:[]},a.breadcrumbs=[],a.tempblock2=void 0,a.loaded=!1,a.blocks=[],a.blocksTemp=[],a.arrows=[],a.arrowsTemp=[],a.canvas_div=void 0,a.active=!1,a.paddingx=0,a.paddingy=0,a.offsetleft=0,a.offsetleftold=0,a.rearrange=!1,a.lastevent=!1,a.dragx=0,a.dragy=0,a.original=null,a.drag=void 0,a.dragId=-1,a.mouse_x=0,a.mouse_y=0,a.dragblock=!1,a.link=!1,a.canvasRef=l.a.createRef(),a.flowRef={},a.chartData="",a.rightcard=!1,a.tempblock=void 0,a.editMode=a.props.editMode,a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.flowy(this.canvasRef.current)}},{key:"flowy",value:function(e){this.load(e,20,60)}},{key:"blockReleased",value:function(){this.tempblock2&&this.tempblock2.classList.remove("blockdisabled")}},{key:"blockSnap",value:function(e){var t=this.blocks.slice();return t.push({left:e.left,top:e.top,type:e.type,id:e.id,link:{show:!1,position:"bottom"}}),t.forEach((function(e){e.link={show:!1,position:"bottom"}})),this.setState({blocks:t}),!0}},{key:"hideConnector",value:function(){var e=this.blocks.slice();e.forEach((function(e){e.link={link:!1,position:"bottom"}})),this.blocks=e}},{key:"load",value:function(e,t,a){this.loaded||(this.loaded=!0,this.canvas_div=e,this.paddingx=t,this.paddingy=a,this.editMode&&this.startEdit())}},{key:"draw",value:function(){this.setState({blocks:this.blocks.slice(),arrows:this.arrows.slice(),blocksTemp:this.blocksTemp.slice(),arrowsTemp:this.arrowsTemp.slice()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.draggedBlock,n=t.showSettings,o=t.editMode,s=t.blocks,i=t.arrows,c=t.blocksTemp,r=t.arrowsTemp,d=s.length>0;return l.a.createElement(f.a,{className:"full-height"},l.a.createElement(g.a,null,l.a.createElement(A.a,null,l.a.createElement(F.a,{grow:!1},l.a.createElement(W.a,{border:"none"},l.a.createElement(oe.a,{iconType:"arrowLeft"},"Back"))),l.a.createElement(M.a,{breadcrumbs:this.breadcrumbs}),l.a.createElement(F.a,{side:"right",className:"content-center"},l.a.createElement(se.a,{label:"Edit",fill:o,onChange:this.startEdit,isSelected:o,size:"s"}),l.a.createElement(S.a,{fill:!0,onClick:this.exportData,size:"s",color:"secondary",style:{marginLeft:10}},"Save"),l.a.createElement(S.a,{fill:!0,onClick:this.clearSketch,size:"s",color:"danger",style:{marginLeft:10,marginRight:10}},"Clear"))),l.a.createElement(O.a,{gutterSize:"none"},l.a.createElement(N.a,{grow:!1},o?l.a.createElement(Pe,null):null),l.a.createElement(N.a,null,l.a.createElement(j.a,{paddingSize:"none"},n?l.a.createElement(ve,{closeSettings:this.closeSettings}):null,l.a.createElement("div",{className:"canvas ".concat(o?"edit-bg":"view-bg"),ref:this.canvasRef},d?s.map((function(t,a){return l.a.createElement(ct,{type:t.type,id:t.id,left:t.left,top:t.top,link:t.link,key:".".concat(a),setFlowRef:e.setFlowRef,openConfigurator:e.openConfigurator,deleteBlock:e.deleteBlock})})):null,i.length?i.map((function(e,t){return l.a.createElement(rt,{id:e.id,path1:e.path1,path2:e.path2,left:e.left,top:e.top,key:"_".concat(t)})})):null,c.length?l.a.createElement(pt,{left:c[0].left,top:c[0].top,type:c[0].type,id:c[0].id,blocksTemp:c.slice(1),arrowsTemp:r,setTempRef:this.setTempRef}):null))),a?l.a.createElement(Me,{type:a.type,id:a.id,left:a.left,top:a.top,setDragRef:this.setDragRef}):null)))}}]),t}(n.Component),mt=function(){return l.a.createElement(i.a,null,l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/login"},l.a.createElement(P,null)),l.a.createElement(ne,{exact:!0,path:"/"}),l.a.createElement(c.b,{path:"/sketchpad"},l.a.createElement(ut,{editMode:!1}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(656);s.a.render(l.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,a){e.exports=a.p+"static/media/more.ea10c850.svg"},99:function(e,t,a){e.exports=a.p+"static/media/eye.02ac23d5.svg"}},[[267,358,359]]]);
//# sourceMappingURL=main.3b688a47.chunk.js.map